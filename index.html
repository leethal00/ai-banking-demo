<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SecureBank - Your Digital Banking Partner</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: #1a1a1a;
            background: #ffffff;
        }
        
        /* Header */
        .header {
            background: #ffffff;
            border-bottom: 1px solid #e5e7eb;
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 2rem;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 1.5rem;
            font-weight: 700;
            color: #0066cc;
        }
        
        .nav-links {
            display: flex;
            gap: 2rem;
            align-items: center;
        }
        
        .nav-links a {
            color: #374151;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s ease;
        }
        
        .nav-links a:hover {
            color: #0066cc;
        }
        
        .login-btn {
            background: #0066cc;
            color: white !important;
            padding: 0.5rem 1.5rem;
            border-radius: 6px;
            font-weight: 600;
            transition: background 0.3s ease;
        }
        
        .login-btn:hover {
            background: #0052a3;
            color: white !important;
        }
        
        /* Hero Section */
        .hero {
            background: linear-gradient(135deg, #0066cc 0%, #004499 100%);
            color: white;
            padding: 4rem 0;
            text-align: center;
        }
        
        .hero-content {
            max-width: 800px;
            margin: 0 auto;
            padding: 0 2rem;
        }
        
        .hero h1 {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 1rem;
            line-height: 1.2;
        }
        
        .hero p {
            font-size: 1.2rem;
            margin-bottom: 2rem;
            opacity: 0.9;
        }
        
        .cta-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .btn-primary {
            background: #ffffff;
            color: #0066cc;
            padding: 1rem 2rem;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }
        
        .btn-primary:hover {
            background: #f8fafc;
            transform: translateY(-2px);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }
        
        .btn-secondary {
            background: transparent;
            color: white;
            padding: 1rem 2rem;
            border: 2px solid white;
            border-radius: 8px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }
        
        .btn-secondary:hover {
            background: white;
            color: #0066cc;
        }
        
        /* Main Container */
        .main-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 4rem 2rem;
        }
        
        /* Account Summary Section */
        .section {
            margin-bottom: 4rem;
        }
        
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }
        
        .section-title {
            font-size: 2rem;
            font-weight: 700;
            color: #1a1a1a;
        }
        
        .view-all {
            color: #0066cc;
            text-decoration: none;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .view-all:hover {
            text-decoration: underline;
        }
        
        /* Account Cards */
        .account-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); /* Smaller minimum width */
            gap: 1rem; /* Smaller gap */
        }
        
        .account-card {
            background: linear-gradient(145deg, #ffffff 0%, #f8fafc 100%);
            border: 1px solid #e1e8f0;
            border-radius: 20px;
            padding: 2rem;
            position: relative;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 20px rgba(0, 102, 204, 0.08), 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .account-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #0066cc 0%, #0052a3 50%, #004080 100%);
            border-radius: 20px 20px 0 0;
        }

        .account-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 40px rgba(0, 102, 204, 0.12), 0 8px 32px rgba(0, 0, 0, 0.1);
            border-color: #cbd5e1;
        }

        .account-card:hover::before {
            background: linear-gradient(90deg, #0066cc 0%, #0080ff 50%, #00a3ff 100%);
        }
        
        .account-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 0.75rem; /* Much smaller margin */
        }
        
        .account-type {
            font-size: 0.7rem; /* Smaller */
            font-weight: 700;
            color: #64748b;
            text-transform: uppercase;
            letter-spacing: 0.5px; /* Reduced */
            background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%);
            padding: 0.25rem 0.5rem; /* Much smaller padding */
            border-radius: 12px; /* Smaller radius */
            border: 1px solid #e2e8f0;
        }
        
        .account-icon {
            width: 36px; /* Much smaller */
            height: 36px;
            background: linear-gradient(145deg, #0066cc 0%, #0052a3 100%);
            border-radius: 10px; /* Smaller radius */
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem; /* Smaller icon */
            color: white;
            box-shadow: 0 4px 8px rgba(0, 102, 204, 0.25); /* Smaller shadow */
            position: relative;
        }

        .account-icon::after {
            content: '';
            position: absolute;
            top: 2px;
            left: 2px;
            right: 2px;
            bottom: 2px;
            background: linear-gradient(145deg, rgba(255, 255, 255, 0.2) 0%, transparent 100%);
            border-radius: 14px;
        }
        
        .account-balance {
            font-size: 1.8rem; /* Much smaller */
            font-weight: 800;
            color: #0f172a;
            margin-bottom: 0.5rem; /* Smaller margin */
            background: linear-gradient(135deg, #0f172a 0%, #334155 100%);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            line-height: 1.1;
        }
        
        .account-balance.negative {
            background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .account-number {
            font-size: 0.75rem; /* Smaller */
            color: #64748b;
            font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace;
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
            padding: 0.25rem 0.5rem; /* Much smaller padding */
            border-radius: 8px; /* Smaller radius */
            border: 1px solid #e2e8f0;
            display: inline-block;
            font-weight: 600;
        }
        
        /* Quick Actions */
        .actions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
        }
        
        .action-card {
            background: #ffffff;
            border: 1px solid #e5e7eb;
            border-radius: 12px;
            padding: 1.5rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            color: inherit;
        }
        
        .action-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 102, 204, 0.15);
            border-color: #0066cc;
        }
        
        .action-icon {
            width: 60px;
            height: 60px;
            background: #f0f7ff;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1rem;
            font-size: 1.5rem;
            color: #0066cc;
        }
        
        .action-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: #1a1a1a;
        }
        
        .action-description {
            font-size: 0.875rem;
            color: #6b7280;
        }
        
        /* Transactions */
        .transactions-container {
            background: #ffffff;
            border: 1px solid #e5e7eb;
            border-radius: 12px;
            overflow: hidden;
        }
        
        .transactions-header {
            padding: 1.5rem 2rem;
            border-bottom: 1px solid #e5e7eb;
            background: #f9fafb;
        }
        
        .transaction-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 1.5rem 2rem;
            border-bottom: 1px solid #f3f4f6;
            transition: background-color 0.2s ease;
        }
        
        .transaction-item:hover {
            background-color: #f9fafb;
        }
        
        .transaction-item:last-child {
            border-bottom: none;
        }
        
        .transaction-left {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .transaction-icon {
            width: 48px;
            height: 48px;
            background: #f3f4f6;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }
        
        .transaction-details h4 {
            font-weight: 600;
            color: #1a1a1a;
            margin-bottom: 0.25rem;
        }
        
        .transaction-date {
            font-size: 0.875rem;
            color: #6b7280;
        }
        
        .transaction-amount {
            font-weight: 700;
            font-size: 1.1rem;
        }
        
        .transaction-amount.debit {
            color: #dc2626;
        }
        
        .transaction-amount.credit {
            color: #16a34a;
        }
        
        /* Footer */
        .footer {
            background: #1f2937;
            color: #9ca3af;
            padding: 3rem 0 2rem;
            margin-top: 4rem;
        }
        
        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
            text-align: center;
        }
        
        .footer-links {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }
        
        .footer-links a {
            color: #9ca3af;
            text-decoration: none;
            transition: color 0.3s ease;
        }
        
        .footer-links a:hover {
            color: #ffffff;
        }
        
        .footer-bottom {
            border-top: 1px solid #374151;
            padding-top: 2rem;
            font-size: 0.875rem;
        }
        
        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            animation: fadeIn 0.3s ease;
        }

        .modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: white;
            border-radius: 16px;
            max-width: 600px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.25);
            animation: slideUp 0.3s ease;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 2rem 2rem 0;
            border-bottom: 1px solid #e5e7eb;
            padding-bottom: 1rem;
        }

        .modal-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: #1a1a1a;
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #6b7280;
            padding: 0.5rem;
            border-radius: 8px;
            transition: all 0.2s;
        }

        .close-btn:hover {
            background: #f3f4f6;
            color: #1a1a1a;
        }

        .modal-body {
            padding: 2rem;
        }

        .payment-options {
            display: grid;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .payment-option {
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .payment-option:hover {
            border-color: #0066cc;
            background: #f0f7ff;
        }

        .payment-option.selected {
            border-color: #0066cc;
            background: #f0f7ff;
        }

        .payment-option-icon {
            width: 48px;
            height: 48px;
            background: #f3f4f6;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }

        .payment-option-content h3 {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 0.25rem;
            color: #1a1a1a;
        }

        .payment-option-content p {
            font-size: 0.875rem;
            color: #6b7280;
        }

        .form-section {
            display: none;
            margin-top: 2rem;
        }

        .form-section.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: #374151;
        }

        .form-input {
            width: 100%;
            padding: 0.75rem 1rem;
            border: 1px solid #d1d5db;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.2s;
        }

        .form-input:focus {
            outline: none;
            border-color: #0066cc;
            box-shadow: 0 0 0 3px rgba(0, 102, 204, 0.1);
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .form-select {
            width: 100%;
            padding: 0.75rem 1rem;
            border: 1px solid #d1d5db;
            border-radius: 8px;
            font-size: 1rem;
            background: white;
            cursor: pointer;
        }

        .form-textarea {
            width: 100%;
            padding: 0.75rem 1rem;
            border: 1px solid #d1d5db;
            border-radius: 8px;
            font-size: 1rem;
            resize: vertical;
            min-height: 80px;
        }

        .form-actions {
            display: flex;
            gap: 1rem;
            justify-content: flex-end;
            margin-top: 2rem;
            padding-top: 1.5rem;
            border-top: 1px solid #e5e7eb;
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn-cancel {
            background: #f3f4f6;
            color: #374151;
        }

        .btn-cancel:hover {
            background: #e5e7eb;
        }

        .btn-submit {
            background: #0066cc;
            color: white;
        }

        .btn-submit:hover {
            background: #0052a3;
        }

        .btn-submit:disabled {
            background: #9ca3af;
            cursor: not-allowed;
        }

        .form-help {
            font-size: 0.875rem;
            color: #6b7280;
            margin-top: 0.25rem;
        }

        .amount-display {
            background: #f9fafb;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1rem;
        }

        .amount-label {
            font-size: 0.875rem;
            color: #6b7280;
            margin-bottom: 0.25rem;
        }

        .amount-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: #1a1a1a;
        }

        /* Bank Lookup Styles */
        .bank-lookup {
            position: relative;
        }

        .bank-search-input {
            width: 100%;
            padding: 0.75rem 1rem;
            border: 1px solid #d1d5db;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.2s;
        }

        .bank-search-input:focus {
            outline: none;
            border-color: #0066cc;
            box-shadow: 0 0 0 3px rgba(0, 102, 204, 0.1);
        }

        .bank-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 1px solid #d1d5db;
            border-top: none;
            border-radius: 0 0 8px 8px;
            max-height: 200px;
            overflow-y: auto;
            z-index: 10;
            display: none;
        }

        .bank-dropdown.show {
            display: block;
        }

        .bank-option {
            padding: 0.75rem 1rem;
            cursor: pointer;
            border-bottom: 1px solid #f3f4f6;
            transition: background-color 0.2s;
        }

        .bank-option:hover {
            background-color: #f9fafb;
        }

        .bank-option:last-child {
            border-bottom: none;
        }

        .bank-name {
            font-weight: 600;
            color: #1a1a1a;
        }

        .bank-details {
            font-size: 0.875rem;
            color: #6b7280;
            margin-top: 0.25rem;
        }

        .no-results {
            padding: 1rem;
            text-align: center;
            color: #6b7280;
            font-style: italic;
        }

        /* Accounts Modal Styles */
        .accounts-modal .modal-content {
            max-width: 1000px;
        }

        .accounts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .full-account-card {
            background: #ffffff;
            border: 1px solid #e5e7eb;
            border-radius: 12px;
            padding: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .full-account-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            border-color: #0066cc;
        }

        .account-category {
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: #6b7280;
            margin-bottom: 0.5rem;
        }

        .account-name {
            font-size: 1.1rem;
            font-weight: 600;
            color: #1a1a1a;
            margin-bottom: 0.75rem;
        }

        .account-balance-large {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .account-balance-large.positive {
            color: #16a34a;
        }

        .account-balance-large.negative {
            color: #dc2626;
        }

        .account-balance-large.neutral {
            color: #1a1a1a;
        }

        .account-details-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.875rem;
            color: #6b7280;
        }

        .account-number-full {
            font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace;
        }

        .account-status {
            display: inline-block;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .status-active {
            background: #dcfce7;
            color: #166534;
        }

        .status-offset {
            background: #fef3c7;
            color: #92400e;
        }

        .status-loan {
            background: #fecaca;
            color: #991b1b;
        }

        /* Account Detail View */
        .account-detail-view {
            display: none;
        }

        .account-detail-view.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        .detail-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid #e5e7eb;
        }

        .back-button {
            background: #f3f4f6;
            border: none;
            padding: 0.5rem;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.2s;
        }

        .back-button:hover {
            background: #e5e7eb;
        }

        .detail-account-info h3 {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 0.25rem;
        }

        .detail-account-info p {
            color: #6b7280;
            font-size: 0.875rem;
        }

        .detail-balance {
            font-size: 2.2rem;
            font-weight: 700;
            margin: 1rem 0;
        }

        .account-features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .feature-card {
            background: #f9fafb;
            padding: 1rem;
            border-radius: 8px;
            text-align: center;
        }

        .feature-value {
            font-size: 1.2rem;
            font-weight: 600;
            color: #1a1a1a;
        }

        .feature-label {
            font-size: 0.75rem;
            color: #6b7280;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-top: 0.25rem;
        }

        .transaction-history {
            background: #ffffff;
            border: 1px solid #e5e7eb;
            border-radius: 12px;
            overflow: hidden;
        }

        .transaction-history-header {
            padding: 1.5rem;
            border-bottom: 1px solid #e5e7eb;
            background: #f9fafb;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .date-filter {
            display: flex;
            gap: 0.5rem;
            align-items: center;
        }

        .date-filter select {
            padding: 0.25rem 0.5rem;
            border: 1px solid #d1d5db;
            border-radius: 4px;
            font-size: 0.875rem;
        }

        .transaction-list {
            max-height: 400px;
            overflow-y: auto;
        }

        .transaction-row {
            display: flex;
            align-items: center;
            padding: 1rem 1.5rem;
            border-bottom: 1px solid #f3f4f6;
            transition: background-color 0.2s;
        }

        .transaction-row:hover {
            background: #f9fafb;
        }

        .transaction-row:last-child {
            border-bottom: none;
        }

        .transaction-icon-large {
            width: 40px;
            height: 40px;
            background: #f3f4f6;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem;
            margin-right: 1rem;
        }

        .transaction-info {
            flex: 1;
        }

        .transaction-description {
            font-weight: 600;
            color: #1a1a1a;
            margin-bottom: 0.25rem;
        }

        .transaction-meta {
            font-size: 0.875rem;
            color: #6b7280;
        }

        .transaction-amount-large {
            font-weight: 700;
            font-size: 1.1rem;
            text-align: right;
        }

        .transaction-amount-large.credit {
            color: #16a34a;
        }

        .transaction-amount-large.debit {
            color: #dc2626;
        }

        /* Accounts List Modal Styles */
        .accounts-list-modal .modal-content {
            max-width: 800px;
        }

        .accounts-list-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 1.5rem;
            border-bottom: 1px solid #e5e7eb;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .accounts-list-item:hover {
            background-color: #f9fafb;
        }

        .accounts-list-item:last-child {
            border-bottom: none;
        }

        .account-list-info {
            flex: 1;
        }

        .account-list-name {
            font-size: 1.1rem;
            font-weight: 600;
            color: #1a1a1a;
            margin-bottom: 0.25rem;
        }

        .account-list-details {
            font-size: 0.875rem;
            color: #6b7280;
        }

        .account-list-balance {
            font-size: 1.3rem;
            font-weight: 700;
            text-align: right;
        }

        .account-list-balance.positive {
            color: #16a34a;
        }

        .account-list-balance.negative {
            color: #dc2626;
        }

        /* Transfers Modal Styles */
        .transfers-modal .modal-content {
            max-width: 700px;
        }

        .transfer-type-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .transfer-type-card {
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .transfer-type-card:hover, .transfer-type-card.selected {
            border-color: #0066cc;
            background: #f0f7ff;
        }

        .transfer-icon {
            font-size: 2rem;
            margin-bottom: 1rem;
        }

        .transfer-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: #1a1a1a;
        }

        .transfer-description {
            font-size: 0.875rem;
            color: #6b7280;
        }

        /* Support Modal Styles */
        .support-modal .modal-content {
            max-width: 800px;
        }

        .chat-container {
            height: 400px;
            border: 1px solid #e5e7eb;
            border-radius: 12px;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            background: #ffffff;
        }

        .chat-header {
            background: #0066cc;
            color: white;
            padding: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .chat-messages {
            flex: 1;
            padding: 1rem;
            overflow-y: auto;
            background: #f9fafb;
        }

        .chat-message {
            margin-bottom: 1rem;
            display: flex;
            align-items: flex-start;
            gap: 0.75rem;
        }

        .chat-message.user {
            flex-direction: row-reverse;
        }

        .chat-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
        }

        .chat-avatar.bot {
            background: #0066cc;
            color: white;
        }

        .chat-avatar.user {
            background: #e5e7eb;
            color: #1a1a1a;
        }

        .chat-bubble {
            max-width: 80%;
            padding: 0.75rem 1rem;
            border-radius: 18px;
            font-size: 0.9rem;
            line-height: 1.4;
        }

        .chat-bubble.bot {
            background: #ffffff;
            border: 1px solid #e5e7eb;
            color: #1a1a1a;
        }

        .chat-bubble.user {
            background: #0066cc;
            color: white;
        }

        .chat-input-container {
            padding: 1rem;
            border-top: 1px solid #e5e7eb;
            background: white;
        }

        .chat-input-form {
            display: flex;
            gap: 0.5rem;
        }

        .chat-input {
            flex: 1;
            padding: 0.75rem 1rem;
            border: 1px solid #d1d5db;
            border-radius: 20px;
            font-size: 0.9rem;
            outline: none;
        }

        .chat-input:focus {
            border-color: #0066cc;
        }

        .chat-send-btn {
            background: #0066cc;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 20px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .chat-send-btn:hover {
            background: #0052a3;
        }

        .chat-send-btn:disabled {
            background: #9ca3af;
            cursor: not-allowed;
        }

        .suggested-questions {
            margin-top: 1rem;
        }

        .suggested-questions h4 {
            font-size: 0.875rem;
            color: #6b7280;
            margin-bottom: 0.5rem;
        }

        .question-chips {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .question-chip {
            background: #f3f4f6;
            border: 1px solid #e5e7eb;
            border-radius: 16px;
            padding: 0.5rem 0.75rem;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.2s;
        }

        .question-chip:hover {
            background: #e5e7eb;
            border-color: #0066cc;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideUp {
            from { 
                opacity: 0;
                transform: translateY(30px);
            }
            to { 
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .header-content {
                padding: 0 1rem;
            }
            
            .nav-links {
                gap: 1rem;
            }
            
            .hero h1 {
                font-size: 2rem;
            }
            
            .main-container {
                padding: 2rem 1rem;
            }
            
            .section-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 1rem;
            }
            
            .account-grid {
                grid-template-columns: 1fr;
            }
            
            .actions-grid {
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            }
            
            .cta-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .transaction-item {
                padding: 1rem;
            }
            
            .footer-links {
                flex-direction: column;
                gap: 1rem;
            }
            
            .modal-content {
                width: 95%;
                max-height: 95vh;
            }
            
            .modal-header,
            .modal-body {
                padding: 1.5rem;
            }
            
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .form-actions {
                flex-direction: column;
            }
        }

        /* Login Screen Styles */
        .login-screen {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, #0066cc 0%, #004499 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }

        .login-screen.hidden {
            display: none;
        }

        .login-container {
            background: white;
            padding: 3rem;
            border-radius: 16px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
            width: 100%;
            max-width: 400px;
            text-align: center;
        }

        .login-logo {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .login-title {
            font-size: 1.8rem;
            font-weight: 700;
            color: #1a1a1a;
            margin-bottom: 0.5rem;
        }

        .login-subtitle {
            color: #6b7280;
            margin-bottom: 2rem;
            font-size: 0.95rem;
        }

        .login-form {
            text-align: left;
        }

        .login-form-group {
            margin-bottom: 1.5rem;
        }

        .login-label {
            display: block;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: #374151;
        }

        .login-input {
            width: 100%;
            padding: 0.875rem;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.2s;
        }

        .login-input:focus {
            outline: none;
            border-color: #0066cc;
        }

        .login-btn {
            width: 100%;
            background: #0066cc;
            color: white;
            border: none;
            padding: 1rem;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s;
            margin-top: 1rem;
        }

        .login-btn:hover {
            background: #0052a3;
        }

        .login-help {
            margin-top: 1.5rem;
            font-size: 0.875rem;
            color: #6b7280;
            text-align: center;
        }

        /* Main app container */
        .main-app {
            display: none;
        }

        .main-app.show {
            display: block;
        }

        /* More compact styles for main interface */
        .hero {
            padding: 1rem 0; /* Much smaller blue banner */
        }

        .hero h1 {
            font-size: 1.75rem; /* Much smaller title */
            margin-bottom: 0.25rem; /* Tighter spacing */
        }

        .hero p {
            font-size: 0.9rem; /* Smaller subtitle */
            margin-bottom: 0.75rem; /* Much tighter */
        }

        .main-content {
            padding: 2rem 0; /* Reduced from 4rem */
        }

        .account-grid {
            gap: 0.75rem; /* Tighter grid */
        }

        .account-card {
            padding: 1rem; /* Much smaller cards */
        }

        /* Account Type Specific Styles */
        .account-card[data-type="transaction"] .account-icon {
            background: linear-gradient(145deg, #059669 0%, #047857 100%);
            box-shadow: 0 8px 16px rgba(5, 150, 105, 0.25);
        }

        .account-card[data-type="transaction"]::before {
            background: linear-gradient(90deg, #059669 0%, #047857 50%, #065f46 100%);
        }

        .account-card[data-type="savings"] .account-icon {
            background: linear-gradient(145deg, #7c3aed 0%, #6d28d9 100%);
            box-shadow: 0 8px 16px rgba(124, 58, 237, 0.25);
        }

        .account-card[data-type="savings"]::before {
            background: linear-gradient(90deg, #7c3aed 0%, #6d28d9 50%, #5b21b6 100%);
        }

        .account-card[data-type="loan"] .account-icon {
            background: linear-gradient(145deg, #dc2626 0%, #b91c1c 100%);
            box-shadow: 0 8px 16px rgba(220, 38, 38, 0.25);
        }

        .account-card[data-type="loan"]::before {
            background: linear-gradient(90deg, #dc2626 0%, #b91c1c 50%, #991b1b 100%);
        }

        .account-card[data-type="credit"] .account-icon {
            background: linear-gradient(145deg, #ea580c 0%, #dc2626 100%);
            box-shadow: 0 8px 16px rgba(234, 88, 12, 0.25);
        }

        .account-card[data-type="credit"]::before {
            background: linear-gradient(90deg, #ea580c 0%, #dc2626 50%, #b91c1c 100%);
        }

        /* Add subtle animation to balance numbers */
        @keyframes balanceGlow {
            0%, 100% { filter: drop-shadow(0 0 4px rgba(0, 102, 204, 0.2)); }
            50% { filter: drop-shadow(0 0 8px rgba(0, 102, 204, 0.3)); }
        }

        .account-balance {
            animation: balanceGlow 3s ease-in-out infinite;
        }

        .quick-actions {
            padding: 1.5rem 0; /* Even smaller */
        }

        .actions-grid {
            gap: 0.75rem; /* Tighter */
        }

        .action-card {
            padding: 0.75rem; /* Much smaller */
        }

        .section-title {
            font-size: 1.5rem; /* Much smaller */
            margin-bottom: 1rem; /* Tighter */
        }

        .transactions-section {
            padding: 1.5rem 0; /* Smaller */
        }

        .transaction {
            padding: 0.75rem; /* Much smaller */
        }

        .section {
            margin-bottom: 1.5rem; /* Reduce space between sections */
        }

        /* Statements Modal Styles */
        .statements-modal .modal-content {
            max-width: 900px;
        }

        .statements-filter {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr auto;
            gap: 1rem;
            margin-bottom: 2rem;
            align-items: end;
        }

        .statement-list {
            max-height: 400px;
            overflow-y: auto;
        }

        .statement-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 1rem;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            margin-bottom: 0.5rem;
            transition: background-color 0.2s;
        }

        .statement-item:hover {
            background-color: #f9fafb;
        }

        .statement-info {
            flex: 1;
        }

        .statement-period {
            font-weight: 600;
            color: #1a1a1a;
        }

        .statement-details {
            font-size: 0.875rem;
            color: #6b7280;
            margin-top: 0.25rem;
        }

        .statement-actions {
            display: flex;
            gap: 0.5rem;
        }

        .btn-icon {
            padding: 0.5rem;
            background: #f3f4f6;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn-icon:hover {
            background: #0066cc;
            color: white;
            border-color: #0066cc;
        }

        /* Credit Application Modal Styles */
        .credit-modal .modal-content {
            max-width: 700px;
        }

        .application-steps {
            display: flex;
            justify-content: center;
            margin-bottom: 2rem;
        }

        .step {
            display: flex;
            align-items: center;
            padding: 0.5rem 1rem;
            background: #f3f4f6;
            border-radius: 20px;
            margin: 0 0.25rem;
            font-size: 0.875rem;
            font-weight: 600;
            color: #6b7280;
        }

        .step.active {
            background: #0066cc;
            color: white;
        }

        .step.completed {
            background: #059669;
            color: white;
        }

        .credit-check-result {
            text-align: center;
            padding: 2rem;
            border-radius: 12px;
            margin: 2rem 0;
        }

        .credit-check-result.approved {
            background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
            border: 2px solid #10b981;
        }

        .credit-check-result.declined {
            background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);
            border: 2px solid #ef4444;
        }

        .result-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .result-title {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .result-details {
            font-size: 0.95rem;
            color: #374151;
        }

        /* ATM Finder Modal Styles */
        .atm-modal .modal-content {
            max-width: 1000px;
        }

        .atm-search {
            display: grid;
            grid-template-columns: 1fr 1fr auto;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .atm-filters {
            display: flex;
            gap: 1rem;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }

        .filter-chip {
            padding: 0.5rem 1rem;
            background: #f3f4f6;
            border: 1px solid #d1d5db;
            border-radius: 20px;
            font-size: 0.875rem;
            cursor: pointer;
            transition: all 0.2s;
        }

        .filter-chip.active {
            background: #0066cc;
            color: white;
            border-color: #0066cc;
        }

        .atm-list {
            max-height: 500px;
            overflow-y: auto;
        }

        .atm-item {
            display: flex;
            align-items: flex-start;
            padding: 1rem;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            margin-bottom: 0.75rem;
        }

        .atm-icon {
            width: 40px;
            height: 40px;
            background: #0066cc;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
            margin-right: 1rem;
        }

        .atm-info {
            flex: 1;
        }

        .atm-name {
            font-weight: 600;
            color: #1a1a1a;
            margin-bottom: 0.25rem;
        }

        .atm-address {
            color: #6b7280;
            font-size: 0.875rem;
            margin-bottom: 0.5rem;
        }

        .atm-features {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
        }

        .feature-tag {
            padding: 0.25rem 0.5rem;
            background: #e0f2fe;
            color: #0369a1;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .atm-distance {
            font-weight: 600;
            color: #0066cc;
        }
    </style>
</head>
<body>
    <!-- Login Screen -->
    <div id="loginScreen" class="login-screen">
        <div class="login-container">
            <div class="login-logo">🏦</div>
            <h1 class="login-title">SecureBank</h1>
            <p class="login-subtitle">Your Digital Banking Partner</p>
            
            <form class="login-form" onsubmit="handleLogin(event)">
                <div class="login-form-group">
                    <label class="login-label" for="username">Customer ID or Username</label>
                    <input type="text" id="username" class="login-input" placeholder="Enter your Customer ID" required>
                </div>
                
                <div class="login-form-group">
                    <label class="login-label" for="password">Password</label>
                    <input type="password" id="password" class="login-input" placeholder="Enter your password" required>
                </div>
                
                <button type="submit" class="login-btn">Sign In Securely</button>
            </form>
            
            <div class="login-help">
                <strong>Demo Mode:</strong> Enter any credentials to access the banking demo.<br>
                Try: <strong>demo</strong> / <strong>password</strong>
            </div>
        </div>
    </div>

    <!-- Main Banking Application -->
    <div id="mainApp" class="main-app">
        <header class="header">
        <div class="header-content">
            <div class="logo">
                🏦 SecureBank
            </div>
            <nav class="nav-links">
                <a href="#accounts" onclick="openAccountsListModal()">Accounts</a>
                <a href="#transfers" onclick="openTransfersModal()">Transfers</a>
                <a href="#payments" onclick="openPaymentModal()">Payments</a>
                <a href="#support" onclick="openSupportModal()">Support</a>
                <a href="#settings" onclick="openSettingsModal()">Settings</a>
                <a href="#logout" class="login-btn" onclick="logout()">Sign Out</a>
            </nav>
        </div>
    </header>

    <section class="hero">
        <div class="hero-content">
            <h1>Welcome back, John!</h1>
            <p>Your personalized banking dashboard. Manage your finances with confidence and ease.</p>
            <div class="cta-buttons">
                <a href="#accounts" class="btn-primary" onclick="openAccountsModal()">View Accounts</a>
                <a href="#transfers" class="btn-secondary" onclick="openTransfersModal()">Quick Transfer</a>
            </div>
        </div>
    </section>

    <main class="main-container">
        <section class="section">
            <div class="section-header">
                <h2 class="section-title">Account Overview</h2>
                <a href="#" class="view-all">View All →</a>
            </div>
            
            <div class="account-grid">
                <div class="account-card" data-type="transaction">
                    <div class="account-header">
                        <div>
                            <div class="account-type">Everyday Transaction</div>
                            <div class="account-number">BSB 062-001 • ••••1234</div>
                        </div>
                        <div class="account-icon">💳</div>
                    </div>
                    <div class="account-balance">$4,287.50</div>
                </div>
                
                <div class="account-card" data-type="savings">
                    <div class="account-header">
                        <div>
                            <div class="account-type">High Interest Savings</div>
                            <div class="account-number">BSB 062-001 • ••••5678</div>
                        </div>
                        <div class="account-icon">💰</div>
                    </div>
                    <div class="account-balance">$15,920.00</div>
                </div>
                
                <div class="account-card" data-type="loan">
                    <div class="account-header">
                        <div>
                            <div class="account-type">Home Loan</div>
                            <div class="account-number">BSB 062-001 • ••••9012</div>
                        </div>
                        <div class="account-icon">🏠</div>
                    </div>
                    <div class="account-balance negative">-$285,600.00</div>
                </div>
            </div>
        </section>

        <section class="section">
            <div class="section-header">
                <h2 class="section-title">Quick Actions</h2>
            </div>
            
            <div class="actions-grid">
                <div class="action-card" onclick="openPaymentModal()">
                    <div class="action-icon">💸</div>
                    <div class="action-title">Transfer Money</div>
                    <div class="action-description">Send money domestically or internationally</div>
                </div>
                
                <div class="action-card" onclick="openPayBillsModal()">
                    <div class="action-icon">🧾</div>
                    <div class="action-title">Pay Bills</div>
                    <div class="action-description">Pay utilities, credit cards, and more</div>
                </div>
                
                <div class="action-card" onclick="openStatementsModal()">
                    <div class="action-icon">📊</div>
                    <div class="action-title">View Statements</div>
                    <div class="action-description">Download your monthly statements</div>
                </div>
                
                <div class="action-card" onclick="openCreditApplicationModal()">
                    <div class="action-icon">💳</div>
                    <div class="action-title">Apply for Credit</div>
                    <div class="action-description">Get pre-approved for loans and cards</div>
                </div>
                
                <div class="action-card" onclick="openATMFinderModal()">
                    <div class="action-icon">🏧</div>
                    <div class="action-title">Find ATM</div>
                    <div class="action-description">Locate nearby ATMs and branches</div>
                </div>
                
                <div class="action-card" onclick="openSupportModal()">
                    <div class="action-icon">💬</div>
                    <div class="action-title">Contact Support</div>
                    <div class="action-description">24/7 customer service support</div>
                </div>
            </div>
        </section>

        <section class="section">
            <div class="section-header">
                <h2 class="section-title">Recent Transactions</h2>
                <a href="#" class="view-all">View All →</a>
            </div>
            
            <div class="transactions-container">
                <div class="transactions-header">
                    <h3>Latest Activity</h3>
                </div>
                
                <div class="transaction-item">
                    <div class="transaction-left">
                        <div class="transaction-icon">🛒</div>
                        <div class="transaction-details">
                            <h4>Woolworths Supermarket</h4>
                            <div class="transaction-date">Today, 2:30 PM</div>
                        </div>
                    </div>
                    <div class="transaction-amount debit">-$67.85</div>
                </div>
                
                <div class="transaction-item">
                    <div class="transaction-left">
                        <div class="transaction-icon">💼</div>
                        <div class="transaction-details">
                            <h4>Salary Deposit - TechCorp</h4>
                            <div class="transaction-date">Yesterday, 9:00 AM</div>
                        </div>
                    </div>
                    <div class="transaction-amount credit">+$2,840.00</div>
                </div>
                
                <div class="transaction-item">
                    <div class="transaction-left">
                        <div class="transaction-icon">🎬</div>
                        <div class="transaction-details">
                            <h4>Netflix Monthly</h4>
                            <div class="transaction-date">Aug 8, 2025</div>
                        </div>
                    </div>
                    <div class="transaction-amount debit">-$19.99</div>
                </div>
                
                <div class="transaction-item">
                    <div class="transaction-left">
                        <div class="transaction-icon">☕</div>
                        <div class="transaction-details">
                            <h4>Coffee Club - Collins St</h4>
                            <div class="transaction-date">Aug 7, 2025</div>
                        </div>
                    </div>
                    <div class="transaction-amount debit">-$8.50</div>
                </div>
                
                <div class="transaction-item">
                    <div class="transaction-left">
                        <div class="transaction-icon">🚇</div>
                        <div class="transaction-details">
                            <h4>Myki Top Up</h4>
                            <div class="transaction-date">Aug 6, 2025</div>
                        </div>
                    </div>
                    <div class="transaction-amount debit">-$30.00</div>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="footer-content">
            <div class="footer-links">
                <a href="#">Privacy Policy</a>
                <a href="#">Terms of Service</a>
                <a href="#">Security</a>
                <a href="#">Accessibility</a>
                <a href="#">Careers</a>
                <a href="#">Contact</a>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 SecureBank. All rights reserved. | Member FDIC | Your deposits are protected up to $250,000.</p>
            </div>
        </div>
    </footer>

    <!-- Payment Modal -->
    <div id="paymentModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Transfer Money</h2>
                <button class="close-btn" onclick="closePaymentModal()">&times;</button>
            </div>
            <div class="modal-body">
                <!-- Payment Type Selection -->
                <div id="paymentSelection">
                    <h3 style="margin-bottom: 1rem; color: #374151;">Choose Transfer Type</h3>
                    <div class="payment-options">
                        <div class="payment-option" onclick="selectPaymentType('domestic')">
                            <div class="payment-option-icon">🏛️</div>
                            <div class="payment-option-content">
                                <h3>Domestic Transfer</h3>
                                <p>Send money within Australia via NPP (New Payments Platform) - Instant transfers</p>
                            </div>
                        </div>
                        <div class="payment-option" onclick="selectPaymentType('international')">
                            <div class="payment-option-icon">🌍</div>
                            <div class="payment-option-content">
                                <h3>International Transfer</h3>
                                <p>Send money overseas via SWIFT network - 1-5 business days</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Domestic Payment Form -->
                <div id="domesticForm" class="form-section">
                    <h3 style="margin-bottom: 1.5rem; color: #374151;">Domestic Transfer (NPP)</h3>
                    
                    <div class="form-group">
                        <label class="form-label">From Account</label>
                        <select class="form-select" id="fromAccountDomestic">
                            <option value="1234">Everyday Transaction (••••1234) - $4,287.50</option>
                            <option value="5678">High Interest Savings (••••5678) - $15,920.00</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Transfer Method</label>
                        <select class="form-select" id="transferMethod">
                            <option value="payid">PayID (Email or Phone)</option>
                            <option value="bsb">BSB and Account Number</option>
                        </select>
                    </div>

                    <div id="payidFields">
                        <div class="form-group">
                            <label class="form-label">Recipient PayID</label>
                            <input type="text" class="form-input" id="payId" placeholder="email@example.com or 0412345678">
                            <div class="form-help">Enter recipient's email address or mobile number registered with PayID</div>
                        </div>
                    </div>

                    <div id="bsbFields" style="display: none;">
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">BSB</label>
                                <input type="text" class="form-input" id="bsb" placeholder="123-456" maxlength="7">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Account Number</label>
                                <input type="text" class="form-input" id="accountNumber" placeholder="123456789">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Account Name</label>
                            <input type="text" class="form-input" id="accountName" placeholder="Recipient's full name">
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Amount (AUD)</label>
                        <input type="number" class="form-input" id="amountDomestic" placeholder="0.00" step="0.01" min="0.01">
                        <div class="form-help">Minimum transfer: $0.01 • Maximum: $100,000 per transaction</div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Reference</label>
                        <input type="text" class="form-input" id="referenceDomestic" placeholder="Payment reference" maxlength="280">
                        <div class="form-help">This will appear on both accounts (optional, max 280 characters)</div>
                    </div>

                    <div class="form-actions">
                        <button class="btn btn-cancel" onclick="backToSelection()">Back</button>
                        <button class="btn btn-submit" onclick="processDomesticTransfer()">Send Transfer</button>
                    </div>
                </div>

                <!-- International Payment Form -->
                <div id="internationalForm" class="form-section">
                    <h3 style="margin-bottom: 1.5rem; color: #374151;">International Transfer (SWIFT)</h3>
                    
                    <div class="form-group">
                        <label class="form-label">From Account</label>
                        <select class="form-select" id="fromAccountIntl">
                            <option value="1234">Everyday Transaction (••••1234) - $4,287.50</option>
                            <option value="5678">High Interest Savings (••••5678) - $15,920.00</option>
                        </select>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Recipient Country</label>
                            <select class="form-select" id="recipientCountry">
                                <option value="">Select Country</option>
                                <option value="US">United States</option>
                                <option value="UK">United Kingdom</option>
                                <option value="CA">Canada</option>
                                <option value="NZ">New Zealand</option>
                                <option value="SG">Singapore</option>
                                <option value="JP">Japan</option>
                                <option value="DE">Germany</option>
                                <option value="FR">France</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Currency</label>
                            <select class="form-select" id="currency">
                                <option value="USD">USD - US Dollar</option>
                                <option value="GBP">GBP - British Pound</option>
                                <option value="EUR">EUR - Euro</option>
                                <option value="CAD">CAD - Canadian Dollar</option>
                                <option value="NZD">NZD - New Zealand Dollar</option>
                                <option value="SGD">SGD - Singapore Dollar</option>
                                <option value="JPY">JPY - Japanese Yen</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Recipient Bank Name</label>
                        <div class="bank-lookup">
                            <input type="text" class="bank-search-input" id="bankSearch" placeholder="Type to search for banks worldwide..." autocomplete="off">
                            <div class="bank-dropdown" id="bankDropdown"></div>
                            <input type="hidden" id="selectedBankData">
                        </div>
                        <div class="form-help">Search for banks by name, city, or country</div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">SWIFT/BIC Code</label>
                        <input type="text" class="form-input" id="swiftCode" placeholder="e.g. CHASUS33XXX" maxlength="11" required>
                        <div class="form-help">8-11 character SWIFT code for the recipient bank</div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Recipient Bank Address</label>
                        <textarea class="form-textarea" id="bankAddress" placeholder="Full bank address including city, state/province, postal code, country" required></textarea>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Account Number / IBAN</label>
                        <input type="text" class="form-input" id="intlAccountNumber" placeholder="Account number or IBAN" required>
                        <div class="form-help">For European banks use IBAN, for US banks use account number</div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Account Holder Name</label>
                        <input type="text" class="form-input" id="holderName" placeholder="Exact name as it appears on the account" required>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Recipient Address</label>
                        <textarea class="form-textarea" id="recipientAddress" placeholder="Full address of the account holder" required></textarea>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Send Amount (AUD)</label>
                            <input type="number" class="form-input" id="sendAmount" placeholder="0.00" step="0.01" min="1.00">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Transfer Fee</label>
                            <input type="text" class="form-input" value="$25.00 AUD" readonly>
                        </div>
                    </div>

                    <div class="amount-display">
                        <div class="amount-label">Estimated recipient receives</div>
                        <div class="amount-value" id="receivedAmount">Calculate amount</div>
                        <div class="form-help">Exchange rate: 1 AUD = <span id="exchangeRate">Loading...</span> <span id="targetCurrency">USD</span></div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Purpose of Payment</label>
                        <select class="form-select" id="paymentPurpose" required>
                            <option value="">Select Purpose</option>
                            <option value="family_support">Family Support</option>
                            <option value="education">Education Expenses</option>
                            <option value="business">Business Payment</option>
                            <option value="property">Property Purchase</option>
                            <option value="investment">Investment</option>
                            <option value="other">Other</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Payment Details/Reference</label>
                        <textarea class="form-textarea" id="paymentDetails" placeholder="Description of the payment purpose and any additional information" maxlength="140"></textarea>
                        <div class="form-help">This will appear on the recipient's statement (max 140 characters)</div>
                    </div>

                    <div class="form-actions">
                        <button class="btn btn-cancel" onclick="backToSelection()">Back</button>
                        <button class="btn btn-submit" onclick="processInternationalTransfer()">Review Transfer</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Pay Bills Modal -->
    <div id="payBillsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Pay Bills - BPAY</h2>
                <button class="close-btn" onclick="closePayBillsModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">From Account</label>
                    <select class="form-select" id="fromAccountBills">
                        <option value="1234">Everyday Transaction (••••1234) - $4,287.50</option>
                        <option value="5678">High Interest Savings (••••5678) - $15,920.00</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">Payment Method</label>
                    <select class="form-select" id="paymentMethod" onchange="toggleBpayFields()">
                        <option value="bpay">BPAY - Australian Bill Payment</option>
                        <option value="payid">PayID - Direct to Merchant</option>
                    </select>
                </div>

                <!-- BPAY Fields -->
                <div id="bpayFields">
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Biller Code</label>
                            <input type="text" class="form-input" id="billerCode" placeholder="e.g. 12345" maxlength="10" oninput="lookupBiller()">
                            <div class="form-help">4-10 digit code found on your bill</div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Reference Number</label>
                            <input type="text" class="form-input" id="referenceNumber" placeholder="Customer reference number">
                            <div class="form-help">Your account/customer number with the biller</div>
                        </div>
                    </div>

                    <div class="form-group" id="billerInfo" style="display: none;">
                        <div class="amount-display">
                            <div class="amount-label">Biller Information</div>
                            <div class="amount-value" id="billerName" style="font-size: 1.2rem;">-</div>
                            <div class="form-help" id="billerDetails">Enter biller code to see details</div>
                        </div>
                    </div>
                </div>

                <!-- PayID Fields -->
                <div id="payidBillFields" style="display: none;">
                    <div class="form-group">
                        <label class="form-label">Merchant PayID</label>
                        <input type="text" class="form-input" id="merchantPayId" placeholder="merchant@company.com.au">
                        <div class="form-help">PayID registered by the merchant for bill payments</div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Invoice/Reference Number</label>
                        <input type="text" class="form-input" id="invoiceNumber" placeholder="Invoice or reference number">
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Amount (AUD)</label>
                    <input type="number" class="form-input" id="billAmount" placeholder="0.00" step="0.01" min="0.01">
                    <div class="form-help">Enter the exact amount shown on your bill</div>
                </div>

                <div class="form-group">
                    <label class="form-label">Payment Description</label>
                    <input type="text" class="form-input" id="billDescription" placeholder="e.g. Electricity Bill - March 2025" maxlength="100">
                    <div class="form-help">Optional description for your records</div>
                </div>

                <div class="form-group">
                    <label class="form-label">Process Payment</label>
                    <select class="form-select" id="paymentTiming">
                        <option value="now">Pay Now</option>
                        <option value="scheduled">Schedule for Later</option>
                    </select>
                </div>

                <div id="scheduleFields" style="display: none;">
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Payment Date</label>
                            <input type="date" class="form-input" id="paymentDate">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Recurring</label>
                            <select class="form-select" id="recurring">
                                <option value="none">One-time Payment</option>
                                <option value="weekly">Weekly</option>
                                <option value="fortnightly">Fortnightly</option>
                                <option value="monthly">Monthly</option>
                                <option value="quarterly">Quarterly</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="amount-display">
                    <div class="amount-label">Payment Summary</div>
                    <div class="amount-value" id="totalBillAmount">$0.00</div>
                    <div class="form-help">No fees for BPAY payments • Same day processing before 3:00 PM AEST</div>
                </div>

                <div class="form-actions">
                    <button class="btn btn-cancel" onclick="closePayBillsModal()">Cancel</button>
                    <button class="btn btn-submit" onclick="processBillPayment()">Pay Bill</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Accounts Modal -->
    <div id="accountsModal" class="modal accounts-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">All Accounts</h2>
                <button class="close-btn" onclick="closeAccountsModal()">&times;</button>
            </div>
            <div class="modal-body">
                <!-- Accounts Overview -->
                <div id="accountsOverview">
                    <div class="accounts-grid">
                        <!-- Transaction Accounts -->
                        <div class="full-account-card" onclick="openAccountDetail('everyday')">
                            <div class="account-category">Transaction Account</div>
                            <div class="account-name">Everyday Transaction</div>
                            <div class="account-balance-large positive">$4,287.50</div>
                            <div class="account-details-row">
                                <span class="account-number-full">BSB 062-001 • Acc 12341234</span>
                                <span class="account-status status-active">Active</span>
                            </div>
                        </div>

                        <div class="full-account-card" onclick="openAccountDetail('premium')">
                            <div class="account-category">Transaction Account</div>
                            <div class="account-name">Premium Transaction</div>
                            <div class="account-balance-large positive">$1,856.75</div>
                            <div class="account-details-row">
                                <span class="account-number-full">BSB 062-001 • Acc 12349876</span>
                                <span class="account-status status-active">Active</span>
                            </div>
                        </div>

                        <!-- Savings Accounts -->
                        <div class="full-account-card" onclick="openAccountDetail('savings')">
                            <div class="account-category">Savings Account</div>
                            <div class="account-name">High Interest Savings</div>
                            <div class="account-balance-large positive">$15,920.00</div>
                            <div class="account-details-row">
                                <span class="account-number-full">BSB 062-001 • Acc 56785678</span>
                                <span class="account-status status-active">Active</span>
                            </div>
                        </div>

                        <div class="full-account-card" onclick="openAccountDetail('goalSaver')">
                            <div class="account-category">Savings Account</div>
                            <div class="account-name">Goal Saver - Holiday Fund</div>
                            <div class="account-balance-large positive">$8,245.20</div>
                            <div class="account-details-row">
                                <span class="account-number-full">BSB 062-001 • Acc 56787654</span>
                                <span class="account-status status-active">Active</span>
                            </div>
                        </div>

                        <div class="full-account-card" onclick="openAccountDetail('termDeposit')">
                            <div class="account-category">Term Deposit</div>
                            <div class="account-name">12 Month Term Deposit</div>
                            <div class="account-balance-large positive">$25,000.00</div>
                            <div class="account-details-row">
                                <span class="account-number-full">BSB 062-001 • Acc 78901234</span>
                                <span class="account-status status-active">Maturing 15/12/2025</span>
                            </div>
                        </div>

                        <!-- Home Loan & Offset -->
                        <div class="full-account-card" onclick="openAccountDetail('homeLoan')">
                            <div class="account-category">Home Loan</div>
                            <div class="account-name">Variable Home Loan</div>
                            <div class="account-balance-large negative">-$285,600.00</div>
                            <div class="account-details-row">
                                <span class="account-number-full">Loan 90129012</span>
                                <span class="account-status status-loan">6.85% p.a.</span>
                            </div>
                        </div>

                        <div class="full-account-card" onclick="openAccountDetail('offset')">
                            <div class="account-category">Offset Account</div>
                            <div class="account-name">Home Loan Offset</div>
                            <div class="account-balance-large positive">$52,340.85</div>
                            <div class="account-details-row">
                                <span class="account-number-full">BSB 062-001 • Acc 90124567</span>
                                <span class="account-status status-offset">Offsetting</span>
                            </div>
                        </div>

                        <!-- Investment Property Loan -->
                        <div class="full-account-card" onclick="openAccountDetail('investmentLoan')">
                            <div class="account-category">Investment Loan</div>
                            <div class="account-name">Investment Property Loan</div>
                            <div class="account-balance-large negative">-$425,800.00</div>
                            <div class="account-details-row">
                                <span class="account-number-full">Loan 90135678</span>
                                <span class="account-status status-loan">7.25% p.a.</span>
                            </div>
                        </div>

                        <!-- Credit Card -->
                        <div class="full-account-card" onclick="openAccountDetail('creditCard')">
                            <div class="account-category">Credit Card</div>
                            <div class="account-name">Platinum Rewards Card</div>
                            <div class="account-balance-large negative">-$2,847.95</div>
                            <div class="account-details-row">
                                <span class="account-number-full">•••• •••• •••• 1234</span>
                                <span class="account-status status-active">$15,000 Limit</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Account Detail View -->
                <div id="accountDetailView" class="account-detail-view">
                    <div class="detail-header">
                        <button class="back-button" onclick="backToAccounts()">←</button>
                        <div class="detail-account-info">
                            <h3 id="detailAccountName">Account Details</h3>
                            <p id="detailAccountNumber">Account information</p>
                        </div>
                    </div>

                    <div class="detail-balance" id="detailBalance">$0.00</div>

                    <div class="account-features" id="accountFeatures">
                        <!-- Features will be populated dynamically -->
                    </div>

                    <div class="transaction-history">
                        <div class="transaction-history-header">
                            <h4>Transaction History</h4>
                            <div class="date-filter">
                                <label>Period:</label>
                                <select id="periodFilter" onchange="filterTransactions()">
                                    <option value="30">Last 30 days</option>
                                    <option value="90">Last 3 months</option>
                                    <option value="365">Last 12 months</option>
                                </select>
                            </div>
                        </div>
                        <div class="transaction-list" id="transactionList">
                            <!-- Transactions will be populated dynamically -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Accounts List Modal -->
    <div id="accountsListModal" class="modal accounts-list-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Your Accounts</h2>
                <button class="close-btn" onclick="closeAccountsListModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div id="accountsListView">
                    <div id="accountsListContainer">
                        <!-- Account list items will be populated here -->
                    </div>
                </div>
                
                <!-- Account Detail View (reused from main accounts modal) -->
                <div id="accountsListDetailView" class="account-detail-view">
                    <div class="detail-header">
                        <button class="back-button" onclick="backToAccountsList()">←</button>
                        <div class="detail-account-info">
                            <h3 id="listDetailAccountName">Account Details</h3>
                            <p id="listDetailAccountNumber">Account information</p>
                        </div>
                    </div>

                    <div class="detail-balance" id="listDetailBalance">$0.00</div>

                    <div class="account-features" id="listAccountFeatures">
                        <!-- Features will be populated dynamically -->
                    </div>

                    <div class="transaction-history">
                        <div class="transaction-history-header">
                            <h4>Transaction History</h4>
                            <div class="date-filter">
                                <label>Period:</label>
                                <select id="listPeriodFilter" onchange="filterListTransactions()">
                                    <option value="30">Last 30 days</option>
                                    <option value="90">Last 3 months</option>
                                    <option value="365">Last 12 months</option>
                                </select>
                            </div>
                        </div>
                        <div class="transaction-list" id="listTransactionList">
                            <!-- Transactions will be populated dynamically -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Transfers Modal -->
    <div id="transfersModal" class="modal transfers-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Transfer Between Accounts</h2>
                <button class="close-btn" onclick="closeTransfersModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">From Account</label>
                    <select class="form-select" id="transferFromAccount">
                        <option value="">Select account to transfer from</option>
                        <option value="everyday">Everyday Transaction (••••1234) - $4,287.50</option>
                        <option value="premium">Premium Transaction (••••9876) - $1,856.75</option>
                        <option value="savings">High Interest Savings (••••5678) - $15,920.00</option>
                        <option value="goalSaver">Goal Saver - Holiday Fund (••••7654) - $8,245.20</option>
                        <option value="offset">Home Loan Offset (••••4567) - $52,340.85</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">To Account</label>
                    <select class="form-select" id="transferToAccount">
                        <option value="">Select account to transfer to</option>
                        <option value="everyday">Everyday Transaction (••••1234)</option>
                        <option value="premium">Premium Transaction (••••9876)</option>
                        <option value="savings">High Interest Savings (••••5678)</option>
                        <option value="goalSaver">Goal Saver - Holiday Fund (••••7654)</option>
                        <option value="offset">Home Loan Offset (••••4567)</option>
                        <option value="creditCard">Platinum Credit Card (••••1234)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">Transfer Amount (AUD)</label>
                    <input type="number" class="form-input" id="transferAmount" placeholder="0.00" step="0.01" min="0.01" oninput="updateTransferTotal()">
                    <div class="form-help">Minimum transfer: $0.01 • No fees for transfers between your own accounts</div>
                </div>

                <div class="form-group">
                    <label class="form-label">Reference/Description</label>
                    <input type="text" class="form-input" id="transferReference" placeholder="Transfer reference (optional)" maxlength="100">
                    <div class="form-help">This will appear on both account statements</div>
                </div>

                <div class="form-group">
                    <label class="form-label">Transfer Timing</label>
                    <select class="form-select" id="transferTiming" onchange="toggleTransferSchedule()">
                        <option value="now">Transfer Now</option>
                        <option value="scheduled">Schedule for Later</option>
                    </select>
                </div>

                <div id="transferScheduleFields" style="display: none;">
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Transfer Date</label>
                            <input type="date" class="form-input" id="transferDate">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Repeat</label>
                            <select class="form-select" id="transferRecurring">
                                <option value="none">One-time Transfer</option>
                                <option value="weekly">Weekly</option>
                                <option value="fortnightly">Fortnightly</option>
                                <option value="monthly">Monthly</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="amount-display">
                    <div class="amount-label">Transfer Summary</div>
                    <div class="amount-value" id="totalTransferAmount">$0.00</div>
                    <div class="form-help">No fees • Instant transfer between your SecureBank accounts</div>
                </div>

                <div class="form-actions">
                    <button class="btn btn-cancel" onclick="closeTransfersModal()">Cancel</button>
                    <button class="btn btn-submit" onclick="processInternalTransfer()">Transfer Money</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Support Modal -->
    <div id="supportModal" class="modal support-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">SecureBank Support</h2>
                <button class="close-btn" onclick="closeSupportModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="chat-container">
                    <div class="chat-header">
                        <div>🤖</div>
                        <div>
                            <strong>SecureBank Assistant</strong><br>
                            <small>Online - Ready to help</small>
                        </div>
                    </div>
                    <div class="chat-messages" id="chatMessages">
                        <div class="chat-message">
                            <div class="chat-avatar bot">🏦</div>
                            <div class="chat-bubble bot">
                                Hello! I'm your SecureBank virtual assistant. I can help you with account information, banking services, transfers, payments, and general banking questions. How can I assist you today?
                            </div>
                        </div>
                    </div>
                    <div class="chat-input-container">
                        <form class="chat-input-form" onsubmit="sendChatMessage(event)">
                            <input type="text" class="chat-input" id="chatInput" placeholder="Type your question here..." autocomplete="off">
                            <button type="submit" class="chat-send-btn" id="chatSendBtn">Send</button>
                        </form>
                    </div>
                </div>
                
                <div class="suggested-questions">
                    <h4>Popular Questions:</h4>
                    <div class="question-chips">
                        <span class="question-chip" onclick="askSuggestedQuestion('How do I transfer money between my accounts?')">How do I transfer money?</span>
                        <span class="question-chip" onclick="askSuggestedQuestion('What are the interest rates on savings accounts?')">Interest rates</span>
                        <span class="question-chip" onclick="askSuggestedQuestion('How do I set up BPAY payments?')">BPAY setup</span>
                        <span class="question-chip" onclick="askSuggestedQuestion('What fees do you charge?')">Banking fees</span>
                        <span class="question-chip" onclick="askSuggestedQuestion('How do I increase my credit limit?')">Credit limit</span>
                        <span class="question-chip" onclick="askSuggestedQuestion('What is an offset account?')">Offset accounts</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Statements Modal -->
    <div id="statementsModal" class="modal statements-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Account Statements</h2>
                <button class="close-btn" onclick="closeStatementsModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="statements-filter">
                    <div class="form-group">
                        <label class="form-label">Account</label>
                        <select class="form-select" id="statementAccount">
                            <option value="all">All Accounts</option>
                            <option value="everyday">Everyday Transaction</option>
                            <option value="savings">High Interest Savings</option>
                            <option value="homeLoan">Home Loan</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">From Date</label>
                        <input type="date" class="form-input" id="statementFromDate">
                    </div>
                    <div class="form-group">
                        <label class="form-label">To Date</label>
                        <input type="date" class="form-input" id="statementToDate">
                    </div>
                    <button class="btn btn-primary" onclick="filterStatements()">Filter</button>
                </div>

                <div class="statement-list" id="statementList">
                    <!-- Statement items will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Credit Application Modal -->
    <div id="creditApplicationModal" class="modal credit-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Credit Card Application</h2>
                <button class="close-btn" onclick="closeCreditApplicationModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="application-steps">
                    <div class="step active" id="step1">1. Personal Info</div>
                    <div class="step" id="step2">2. Income Details</div>
                    <div class="step" id="step3">3. Credit Check</div>
                    <div class="step" id="step4">4. Result</div>
                </div>

                <div id="creditStep1" class="credit-step">
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">First Name</label>
                            <input type="text" class="form-input" id="creditFirstName" value="">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Last Name</label>
                            <input type="text" class="form-input" id="creditLastName" value="">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Date of Birth</label>
                            <input type="date" class="form-input" id="creditDOB">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Phone Number</label>
                            <input type="tel" class="form-input" id="creditPhone" value="">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Residential Address</label>
                        <input type="text" class="form-input" id="creditAddress" placeholder="Street address, suburb, state, postcode">
                    </div>
                </div>

                <div id="creditStep2" class="credit-step" style="display: none;">
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Employment Status</label>
                            <select class="form-select" id="creditEmployment">
                                <option value="">Select employment status</option>
                                <option value="full-time">Full-time employed</option>
                                <option value="part-time">Part-time employed</option>
                                <option value="self-employed">Self-employed</option>
                                <option value="casual">Casual worker</option>
                                <option value="retired">Retired</option>
                                <option value="student">Student</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Annual Income (AUD)</label>
                            <input type="number" class="form-input" id="creditIncome" placeholder="e.g., 75000">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Employer Name</label>
                        <input type="text" class="form-input" id="creditEmployer" placeholder="Company name">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Requested Credit Limit (AUD)</label>
                        <select class="form-select" id="creditLimit">
                            <option value="2000">$2,000</option>
                            <option value="5000">$5,000</option>
                            <option value="10000">$10,000</option>
                            <option value="15000">$15,000</option>
                            <option value="25000">$25,000</option>
                            <option value="50000">$50,000</option>
                        </select>
                    </div>
                </div>

                <div id="creditStep3" class="credit-step" style="display: none;">
                    <div class="credit-check-info">
                        <h3>Credit Check Authorization</h3>
                        <p>SecureBank will perform a credit check with credit reporting agencies. This may appear on your credit report.</p>
                        <div style="margin: 1.5rem 0;">
                            <label style="display: flex; align-items: center; gap: 0.5rem;">
                                <input type="checkbox" id="creditCheckConsent" required>
                                I authorize SecureBank to perform a credit check
                            </label>
                        </div>
                        <button class="btn btn-primary" onclick="performCreditCheck()" style="width: 100%;">
                            Run Credit Check
                        </button>
                    </div>
                </div>

                <div id="creditStep4" class="credit-step" style="display: none;">
                    <div id="creditResult">
                        <!-- Result will be populated here -->
                    </div>
                </div>

                <div class="form-actions">
                    <button class="btn btn-cancel" onclick="closeCreditApplicationModal()">Cancel</button>
                    <button class="btn btn-primary" onclick="nextCreditStep()" id="creditNextBtn">Next</button>
                </div>
            </div>
        </div>
    </div>

    <!-- ATM Finder Modal -->
    <div id="atmFinderModal" class="modal atm-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Find ATMs & Branches</h2>
                <button class="close-btn" onclick="closeATMFinderModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="atm-search">
                    <div class="form-group">
                        <label class="form-label">Search Location</label>
                        <input type="text" class="form-input" id="atmLocation" placeholder="Enter suburb, postcode, or address">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Search Radius</label>
                        <select class="form-select" id="atmRadius">
                            <option value="5">5 km</option>
                            <option value="10">10 km</option>
                            <option value="20">20 km</option>
                            <option value="50">50 km</option>
                        </select>
                    </div>
                    <button class="btn btn-primary" onclick="searchATMs()">Search</button>
                </div>

                <div class="atm-filters">
                    <div class="filter-chip active" data-filter="all">All</div>
                    <div class="filter-chip" data-filter="24hour">24 Hour</div>
                    <div class="filter-chip" data-filter="deposit">Cash Deposit</div>
                    <div class="filter-chip" data-filter="wheelchair">Wheelchair Access</div>
                    <div class="filter-chip" data-filter="branch">Full Branch</div>
                </div>

                <div class="atm-list" id="atmList">
                    <!-- ATM results will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div id="settingsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Settings</h2>
                <button class="close-btn" onclick="closeSettingsModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div style="padding: 1rem;">
                    <h3 style="margin-bottom: 1rem; color: #374151;">Account Settings</h3>
                    
                    <div style="margin-bottom: 2rem;">
                        <h4 style="margin-bottom: 0.5rem; color: #374151;">Current Session</h4>
                        <p style="font-size: 0.9rem; color: #6b7280; margin-bottom: 1rem;" id="sessionInfo">Loading session information...</p>
                        
                        <button class="btn btn-outline" onclick="clearSessionAndRelogin()" style="background: #dc2626; color: white; border-color: #dc2626;">
                            🔄 Reset Settings & Force New Login
                        </button>
                        <p style="font-size: 0.8rem; color: #6b7280; margin-top: 0.5rem;">
                            This will clear all stored session data and return you to the login screen.
                        </p>
                    </div>

                    <div style="margin-bottom: 2rem;">
                        <h4 style="margin-bottom: 0.5rem; color: #374151;">Demo Controls</h4>
                        <button class="btn btn-outline" onclick="refreshDemoData()" style="margin-bottom: 0.5rem;">
                            🎲 Refresh Demo Data
                        </button>
                        <p style="font-size: 0.8rem; color: #6b7280;">
                            Refresh account balances and transaction data for demonstration purposes.
                        </p>
                    </div>

                    <div style="margin-bottom: 2rem;">
                        <h4 style="margin-bottom: 0.5rem; color: #374151;">Privacy</h4>
                        <button class="btn btn-outline" onclick="clearAllBrowserData()">
                            🗑️ Clear All Browser Data
                        </button>
                        <p style="font-size: 0.8rem; color: #6b7280; margin-top: 0.5rem;">
                            Clear all stored data including session, preferences, and cache.
                        </p>
                    </div>

                    <div style="border-top: 1px solid #e5e7eb; padding-top: 1rem; margin-top: 2rem;">
                        <h4 style="margin-bottom: 0.5rem; color: #374151;">About</h4>
                        <p style="font-size: 0.9rem; color: #6b7280;">
                            SecureBank Demo v1.0<br>
                            AI-Powered Banking Platform<br>
                            Built with Claude Code
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function showAlert(action) {
            alert(`${action} feature would open here in a real banking app`);
        }

        // Global Bank Database
        const globalBanks = [
            // United States
            { name: "JPMorgan Chase Bank", swift: "CHASUS33XXX", country: "United States", city: "New York" },
            { name: "Bank of America", swift: "BOFAUS3NXXX", country: "United States", city: "Charlotte" },
            { name: "Wells Fargo Bank", swift: "WFBIUS6SXXX", country: "United States", city: "San Francisco" },
            { name: "Citibank", swift: "CITIUS33XXX", country: "United States", city: "New York" },
            { name: "Goldman Sachs Bank", swift: "GSBLUS33XXX", country: "United States", city: "New York" },
            { name: "Morgan Stanley Bank", swift: "SSTGUS33XXX", country: "United States", city: "New York" },
            
            // United Kingdom
            { name: "HSBC Bank", swift: "HBUKGB4BXXX", country: "United Kingdom", city: "London" },
            { name: "Barclays Bank", swift: "BARCGB22XXX", country: "United Kingdom", city: "London" },
            { name: "Lloyds Bank", swift: "LOYDGB21XXX", country: "United Kingdom", city: "London" },
            { name: "Royal Bank of Scotland", swift: "RBOSGB2LXXX", country: "United Kingdom", city: "Edinburgh" },
            { name: "Standard Chartered Bank", swift: "SCBLGB2LXXX", country: "United Kingdom", city: "London" },
            { name: "NatWest Bank", swift: "NWBKGB2LXXX", country: "United Kingdom", city: "London" },
            
            // Canada
            { name: "Royal Bank of Canada", swift: "ROYCCAT2XXX", country: "Canada", city: "Toronto" },
            { name: "Toronto-Dominion Bank", swift: "TDOMCATTXXX", country: "Canada", city: "Toronto" },
            { name: "Bank of Nova Scotia", swift: "NOSCCATTXXX", country: "Canada", city: "Halifax" },
            { name: "Bank of Montreal", swift: "BOFMCAM2XXX", country: "Canada", city: "Montreal" },
            { name: "Canadian Imperial Bank", swift: "CIBCCATTXXX", country: "Canada", city: "Toronto" },
            
            // Germany
            { name: "Deutsche Bank", swift: "DEUTDEFFXXX", country: "Germany", city: "Frankfurt" },
            { name: "Commerzbank", swift: "COBADEFFXXX", country: "Germany", city: "Frankfurt" },
            { name: "DZ Bank", swift: "GENODEFFXXX", country: "Germany", city: "Frankfurt" },
            { name: "Hypovereinsbank", swift: "HYVEDEMMXXX", country: "Germany", city: "Munich" },
            
            // France
            { name: "BNP Paribas", swift: "BNPAFRPPXXX", country: "France", city: "Paris" },
            { name: "Crédit Agricole", swift: "AGRIFRPPXXX", country: "France", city: "Paris" },
            { name: "Société Générale", swift: "SOGEFRPPXXX", country: "France", city: "Paris" },
            { name: "Crédit Lyonnais", swift: "LYONFRPPXXX", country: "France", city: "Paris" },
            
            // Japan
            { name: "Mitsubishi UFJ Bank", swift: "BOTKJPJTXXX", country: "Japan", city: "Tokyo" },
            { name: "Sumitomo Mitsui Bank", swift: "SMBCJPJTXXX", country: "Japan", city: "Tokyo" },
            { name: "Mizuho Bank", swift: "MHCBJPJTXXX", country: "Japan", city: "Tokyo" },
            { name: "Japan Post Bank", swift: "JPPSJPJ1XXX", country: "Japan", city: "Tokyo" },
            
            // Singapore
            { name: "DBS Bank", swift: "DBSSSGSGXXX", country: "Singapore", city: "Singapore" },
            { name: "United Overseas Bank", swift: "UOVBSGSGXXX", country: "Singapore", city: "Singapore" },
            { name: "OCBC Bank", swift: "OCBCSGSGXXX", country: "Singapore", city: "Singapore" },
            
            // Hong Kong
            { name: "Hongkong and Shanghai Banking Corporation", swift: "HSBCHKHHHKH", country: "Hong Kong", city: "Hong Kong" },
            { name: "Bank of China (Hong Kong)", swift: "BKCHHKHHXXX", country: "Hong Kong", city: "Hong Kong" },
            { name: "Standard Chartered Bank (Hong Kong)", swift: "SCBLHKHHXXX", country: "Hong Kong", city: "Hong Kong" },
            
            // Switzerland
            { name: "UBS Switzerland", swift: "UBSWCHZHXXX", country: "Switzerland", city: "Zurich" },
            { name: "Credit Suisse", swift: "CRESCHZZXXX", country: "Switzerland", city: "Zurich" },
            { name: "PostFinance", swift: "POFICHBEXXX", country: "Switzerland", city: "Bern" },
            
            // Netherlands
            { name: "ING Bank", swift: "INGBNL2AXXX", country: "Netherlands", city: "Amsterdam" },
            { name: "ABN AMRO Bank", swift: "ABNANL2AXXX", country: "Netherlands", city: "Amsterdam" },
            { name: "Rabobank", swift: "RABONL2UXXX", country: "Netherlands", city: "Utrecht" },
            
            // Australia (for comparison)
            { name: "Commonwealth Bank of Australia", swift: "CTBAAU2SXXX", country: "Australia", city: "Sydney" },
            { name: "ANZ Bank", swift: "ANZBAU3MXXX", country: "Australia", city: "Melbourne" },
            { name: "Westpac Banking Corporation", swift: "WPACAU2SXXX", country: "Australia", city: "Sydney" },
            { name: "National Australia Bank", swift: "NATAAU33XXX", country: "Australia", city: "Melbourne" },
            
            // New Zealand
            { name: "ANZ Bank New Zealand", swift: "ANZBNZ22XXX", country: "New Zealand", city: "Auckland" },
            { name: "ASB Bank", swift: "ASBBNZ2AXXX", country: "New Zealand", city: "Auckland" },
            { name: "Bank of New Zealand", swift: "BKNZNZ22XXX", country: "New Zealand", city: "Wellington" },
            { name: "Westpac New Zealand", swift: "WPACNZ2WXXX", country: "New Zealand", city: "Auckland" },
            
            // Other Major Banks
            { name: "Industrial and Commercial Bank of China", swift: "ICBKCNBJXXX", country: "China", city: "Beijing" },
            { name: "China Construction Bank", swift: "PCBCCNBJXXX", country: "China", city: "Beijing" },
            { name: "Agricultural Bank of China", swift: "ABOCCNBJXXX", country: "China", city: "Beijing" },
            { name: "State Bank of India", swift: "SBININBBXXX", country: "India", city: "Mumbai" },
            { name: "HDFC Bank", swift: "HDFCINBBXXX", country: "India", city: "Mumbai" },
            { name: "ICICI Bank", swift: "ICICINBBXXX", country: "India", city: "Mumbai" },
        ];

        // Australian BPAY Biller Database
        const bpayBillers = {
            // Utilities
            "12345": { name: "Origin Energy", type: "Electricity", state: "NSW/VIC/SA/QLD" },
            "23456": { name: "AGL Energy Limited", type: "Gas & Electricity", state: "All States" },
            "34567": { name: "Energy Australia", type: "Electricity & Gas", state: "NSW/VIC/SA/QLD" },
            "45678": { name: "Sydney Water Corporation", type: "Water Services", state: "NSW" },
            "56789": { name: "Melbourne Water", type: "Water & Sewerage", state: "VIC" },
            "67890": { name: "SA Water", type: "Water Services", state: "SA" },
            "78901": { name: "Ergon Energy", type: "Electricity", state: "QLD" },
            "89012": { name: "Western Power", type: "Electricity", state: "WA" },
            
            // Telecommunications
            "11111": { name: "Telstra Corporation", type: "Mobile & Internet", state: "All States" },
            "22222": { name: "Optus", type: "Mobile & Internet", state: "All States" },
            "33333": { name: "Vodafone Australia", type: "Mobile Services", state: "All States" },
            "44444": { name: "TPG Telecom", type: "Internet & Phone", state: "All States" },
            "55555": { name: "iiNet", type: "Internet Services", state: "All States" },
            
            // Credit Cards & Financial
            "88888": { name: "Commonwealth Bank", type: "Credit Card", state: "All States" },
            "77777": { name: "Westpac Banking Corporation", type: "Credit Card & Loans", state: "All States" },
            "66666": { name: "ANZ Bank", type: "Credit Card", state: "All States" },
            "99999": { name: "National Australia Bank", type: "Credit Card & Personal Loans", state: "All States" },
            "10101": { name: "American Express Australia", type: "Credit Card", state: "All States" },
            
            // Insurance
            "12121": { name: "NRMA Insurance", type: "Car & Home Insurance", state: "NSW/ACT" },
            "13131": { name: "RACV", type: "Car & Home Insurance", state: "VIC/TAS" },
            "14141": { name: "Suncorp Insurance", type: "General Insurance", state: "All States" },
            "15151": { name: "Allianz Australia", type: "General Insurance", state: "All States" },
            "16161": { name: "Budget Direct", type: "Car Insurance", state: "All States" },
            
            // Government & Councils
            "20001": { name: "Australian Taxation Office", type: "Tax Payments", state: "All States" },
            "20002": { name: "City of Sydney Council", type: "Council Rates", state: "NSW" },
            "20003": { name: "City of Melbourne", type: "Council Rates & Fines", state: "VIC" },
            "20004": { name: "Brisbane City Council", type: "Council Rates", state: "QLD" },
            "20005": { name: "City of Adelaide", type: "Council Services", state: "SA" },
            
            // Other Services
            "30001": { name: "Foxtel", type: "Pay TV Services", state: "All States" },
            "30002": { name: "Kayo Sports", type: "Streaming Services", state: "All States" },
            "30003": { name: "Stan Entertainment", type: "Streaming Services", state: "All States" },
            "30004": { name: "Binge", type: "Streaming Services", state: "All States" },
        };

        // Bank Search Functions
        function initializeBankSearch() {
            const searchInput = document.getElementById('bankSearch');
            const dropdown = document.getElementById('bankDropdown');
            
            if (!searchInput) return;
            
            searchInput.addEventListener('input', function() {
                const query = this.value.trim().toLowerCase();
                if (query.length < 2) {
                    dropdown.classList.remove('show');
                    return;
                }
                
                const filteredBanks = globalBanks.filter(bank => 
                    bank.name.toLowerCase().includes(query) ||
                    bank.country.toLowerCase().includes(query) ||
                    bank.city.toLowerCase().includes(query) ||
                    bank.swift.toLowerCase().includes(query)
                );
                
                displayBankResults(filteredBanks, query);
            });
            
            // Hide dropdown when clicking outside
            document.addEventListener('click', function(e) {
                if (!searchInput.contains(e.target) && !dropdown.contains(e.target)) {
                    dropdown.classList.remove('show');
                }
            });
        }

        function displayBankResults(banks, query) {
            const dropdown = document.getElementById('bankDropdown');
            dropdown.innerHTML = '';
            
            if (banks.length === 0) {
                dropdown.innerHTML = '<div class="no-results">No banks found matching your search</div>';
            } else {
                banks.slice(0, 10).forEach(bank => { // Limit to 10 results
                    const option = document.createElement('div');
                    option.className = 'bank-option';
                    option.innerHTML = `
                        <div class="bank-name">${highlightMatch(bank.name, query)}</div>
                        <div class="bank-details">${bank.city}, ${bank.country} • ${bank.swift}</div>
                    `;
                    
                    option.addEventListener('click', function() {
                        selectBank(bank);
                    });
                    
                    dropdown.appendChild(option);
                });
            }
            
            dropdown.classList.add('show');
        }

        function highlightMatch(text, query) {
            if (!query) return text;
            const regex = new RegExp(`(${query})`, 'gi');
            return text.replace(regex, '<strong>$1</strong>');
        }

        function selectBank(bank) {
            const searchInput = document.getElementById('bankSearch');
            const dropdown = document.getElementById('bankDropdown');
            const swiftInput = document.getElementById('swiftCode');
            const selectedBankData = document.getElementById('selectedBankData');
            
            // Update the input field
            searchInput.value = bank.name;
            
            // Auto-populate SWIFT code
            swiftInput.value = bank.swift;
            
            // Store selected bank data
            selectedBankData.value = JSON.stringify(bank);
            
            // Hide dropdown
            dropdown.classList.remove('show');
            
            // Add visual feedback
            swiftInput.style.backgroundColor = '#f0f7ff';
            setTimeout(() => {
                swiftInput.style.backgroundColor = '';
            }, 2000);
        }

        // BPAY Functions
        function openPayBillsModal() {
            document.getElementById('payBillsModal').classList.add('show');
            resetBillsModal();
        }

        function closePayBillsModal() {
            document.getElementById('payBillsModal').classList.remove('show');
        }

        function resetBillsModal() {
            // Reset form fields
            document.getElementById('billerCode').value = '';
            document.getElementById('referenceNumber').value = '';
            document.getElementById('billAmount').value = '';
            document.getElementById('billDescription').value = '';
            document.getElementById('totalBillAmount').textContent = '$0.00';
            
            // Hide biller info
            document.getElementById('billerInfo').style.display = 'none';
            
            // Set payment timing change handler
            document.getElementById('paymentTiming').addEventListener('change', function() {
                const scheduleFields = document.getElementById('scheduleFields');
                if (this.value === 'scheduled') {
                    scheduleFields.style.display = 'block';
                    // Set minimum date to tomorrow
                    const tomorrow = new Date();
                    tomorrow.setDate(tomorrow.getDate() + 1);
                    document.getElementById('paymentDate').min = tomorrow.toISOString().split('T')[0];
                } else {
                    scheduleFields.style.display = 'none';
                }
            });

            // Set amount change handler
            document.getElementById('billAmount').addEventListener('input', updateBillTotal);
        }

        function toggleBpayFields() {
            const method = document.getElementById('paymentMethod').value;
            const bpayFields = document.getElementById('bpayFields');
            const payidFields = document.getElementById('payidBillFields');
            
            if (method === 'bpay') {
                bpayFields.style.display = 'block';
                payidFields.style.display = 'none';
            } else {
                bpayFields.style.display = 'none';
                payidFields.style.display = 'block';
            }
        }

        function lookupBiller() {
            const billerCode = document.getElementById('billerCode').value.trim();
            const billerInfo = document.getElementById('billerInfo');
            const billerName = document.getElementById('billerName');
            const billerDetails = document.getElementById('billerDetails');
            
            if (billerCode.length >= 4) {
                const biller = bpayBillers[billerCode];
                if (biller) {
                    billerName.textContent = biller.name;
                    billerDetails.textContent = `${biller.type} • ${biller.state}`;
                    billerInfo.style.display = 'block';
                    
                    // Add green highlight to indicate found
                    document.getElementById('billerCode').style.backgroundColor = '#f0f9ff';
                    setTimeout(() => {
                        document.getElementById('billerCode').style.backgroundColor = '';
                    }, 2000);
                } else {
                    billerInfo.style.display = 'none';
                }
            } else {
                billerInfo.style.display = 'none';
            }
        }

        function updateBillTotal() {
            const amount = parseFloat(document.getElementById('billAmount').value) || 0;
            document.getElementById('totalBillAmount').textContent = `$${amount.toFixed(2)}`;
        }

        function processBillPayment() {
            const method = document.getElementById('paymentMethod').value;
            const amount = document.getElementById('billAmount').value;
            const fromAccount = document.getElementById('fromAccountBills').value;
            const timing = document.getElementById('paymentTiming').value;
            const description = document.getElementById('billDescription').value;
            
            let paymentDetails = '';
            
            if (method === 'bpay') {
                const billerCode = document.getElementById('billerCode').value;
                const referenceNumber = document.getElementById('referenceNumber').value;
                const biller = bpayBillers[billerCode];
                
                if (!billerCode || !referenceNumber || !amount) {
                    alert('Please fill in all required fields: Biller Code, Reference Number, and Amount');
                    return;
                }
                
                paymentDetails = `BPAY Payment Processed!

Biller: ${biller ? biller.name : 'Unknown Biller'} (Code: ${billerCode})
Reference: ${referenceNumber}
Amount: $${parseFloat(amount).toFixed(2)}
From Account: ••••${fromAccount}
${description ? 'Description: ' + description : ''}

${timing === 'now' ? 'Payment processed immediately' : 'Payment scheduled for ' + document.getElementById('paymentDate').value}

BPAY payments are processed same day if submitted before 3:00 PM AEST.
You will receive SMS confirmation shortly.`;
                
            } else { // PayID
                const merchantPayId = document.getElementById('merchantPayId').value;
                const invoiceNumber = document.getElementById('invoiceNumber').value;
                
                if (!merchantPayId || !amount) {
                    alert('Please fill in all required fields: Merchant PayID and Amount');
                    return;
                }
                
                paymentDetails = `PayID Bill Payment Processed!

Merchant PayID: ${merchantPayId}
${invoiceNumber ? 'Invoice/Reference: ' + invoiceNumber : ''}
Amount: $${parseFloat(amount).toFixed(2)}
From Account: ••••${fromAccount}
${description ? 'Description: ' + description : ''}

${timing === 'now' ? 'Payment processed immediately' : 'Payment scheduled for ' + document.getElementById('paymentDate').value}

PayID payments are instant and available 24/7.`;
            }
            
            alert(paymentDetails);
            closePayBillsModal();
        }

        // Account Detail Data
        const accountData = {
            everyday: {
                name: "Everyday Transaction",
                number: "BSB 062-001 • Account 12341234",
                balance: 4287.50,
                features: [
                    { label: "Available Balance", value: "$4,287.50" },
                    { label: "Monthly Fee", value: "$0.00" },
                    { label: "Interest Rate", value: "0.05% p.a." },
                    { label: "ATM Fee Free", value: "Unlimited" }
                ],
                transactions: [
                    { icon: "🛒", description: "Woolworths Supermarket", date: "Today, 2:30 PM", amount: -67.85, category: "Groceries" },
                    { icon: "☕", description: "Coffee Club - Collins St", date: "Today, 8:15 AM", amount: -8.50, category: "Food & Drink" },
                    { icon: "⛽", description: "Shell Service Station", date: "Yesterday, 6:45 PM", amount: -85.20, category: "Fuel" },
                    { icon: "💼", description: "Salary Deposit - TechCorp", date: "Yesterday, 9:00 AM", amount: 2840.00, category: "Income" },
                    { icon: "🎬", description: "Netflix Monthly", date: "Aug 8, 2025", amount: -19.99, category: "Entertainment" },
                    { icon: "🚇", description: "Myki Top Up", date: "Aug 6, 2025", amount: -30.00, category: "Transport" },
                    { icon: "🏪", description: "Coles Supermarket", date: "Aug 5, 2025", amount: -124.75, category: "Groceries" }
                ]
            },
            premium: {
                name: "Premium Transaction",
                number: "BSB 062-001 • Account 12349876",
                balance: 1856.75,
                features: [
                    { label: "Available Balance", value: "$1,856.75" },
                    { label: "Monthly Fee", value: "$15.00" },
                    { label: "Interest Rate", value: "0.15% p.a." },
                    { label: "Overseas ATM", value: "No Fees" }
                ],
                transactions: [
                    { icon: "🛫", description: "Jetstar Airways", date: "Aug 7, 2025", amount: -425.00, category: "Travel" },
                    { icon: "🏨", description: "Booking.com Hotel", date: "Aug 5, 2025", amount: -180.00, category: "Travel" },
                    { icon: "💳", description: "Transfer from Everyday", date: "Aug 3, 2025", amount: 500.00, category: "Transfer" }
                ]
            },
            savings: {
                name: "High Interest Savings",
                number: "BSB 062-001 • Account 56785678",
                balance: 15920.00,
                features: [
                    { label: "Balance", value: "$15,920.00" },
                    { label: "Interest Rate", value: "4.75% p.a." },
                    { label: "Monthly Deposits", value: "5 Free" },
                    { label: "Interest Paid", value: "Monthly" }
                ],
                transactions: [
                    { icon: "💰", description: "Interest Payment", date: "Aug 1, 2025", amount: 62.45, category: "Interest" },
                    { icon: "💳", description: "Transfer from Everyday", date: "Jul 25, 2025", amount: 1000.00, category: "Transfer" },
                    { icon: "💰", description: "Interest Payment", date: "Jul 1, 2025", amount: 59.20, category: "Interest" }
                ]
            },
            goalSaver: {
                name: "Goal Saver - Holiday Fund",
                number: "BSB 062-001 • Account 56787654",
                balance: 8245.20,
                features: [
                    { label: "Balance", value: "$8,245.20" },
                    { label: "Goal Amount", value: "$10,000.00" },
                    { label: "Interest Rate", value: "5.20% p.a." },
                    { label: "Progress", value: "82.5%" }
                ],
                transactions: [
                    { icon: "🎯", description: "Monthly Goal Deposit", date: "Aug 1, 2025", amount: 400.00, category: "Savings" },
                    { icon: "💰", description: "Bonus Interest", date: "Aug 1, 2025", amount: 35.75, category: "Interest" },
                    { icon: "🎯", description: "Monthly Goal Deposit", date: "Jul 1, 2025", amount: 400.00, category: "Savings" }
                ]
            },
            termDeposit: {
                name: "12 Month Term Deposit",
                number: "BSB 062-001 • Account 78901234",
                balance: 25000.00,
                features: [
                    { label: "Principal", value: "$25,000.00" },
                    { label: "Interest Rate", value: "5.10% p.a." },
                    { label: "Maturity Date", value: "15/12/2025" },
                    { label: "Est. Interest", value: "$1,275.00" }
                ],
                transactions: [
                    { icon: "🏦", description: "Term Deposit Opened", date: "15/12/2024", amount: -25000.00, category: "Investment" }
                ]
            },
            homeLoan: {
                name: "Variable Home Loan",
                number: "Loan Account 90129012",
                balance: -285600.00,
                features: [
                    { label: "Outstanding", value: "$285,600.00" },
                    { label: "Interest Rate", value: "6.85% p.a." },
                    { label: "Monthly Repayment", value: "$1,847.32" },
                    { label: "Offset Benefit", value: "$358.34/month" }
                ],
                transactions: [
                    { icon: "🏠", description: "Monthly Repayment", date: "Aug 1, 2025", amount: 1847.32, category: "Loan Payment" },
                    { icon: "💰", description: "Interest Charged", date: "Aug 1, 2025", amount: -1632.25, category: "Interest" },
                    { icon: "🏠", description: "Monthly Repayment", date: "Jul 1, 2025", amount: 1847.32, category: "Loan Payment" }
                ]
            },
            offset: {
                name: "Home Loan Offset",
                number: "BSB 062-001 • Account 90124567",
                balance: 52340.85,
                features: [
                    { label: "Balance", value: "$52,340.85" },
                    { label: "Offsetting", value: "$285,600 Loan" },
                    { label: "Monthly Saving", value: "$358.34" },
                    { label: "Interest Rate", value: "0.00% p.a." }
                ],
                transactions: [
                    { icon: "💳", description: "Salary Deposit", date: "Aug 1, 2025", amount: 2840.00, category: "Income" },
                    { icon: "🏠", description: "Mortgage Repayment", date: "Aug 1, 2025", amount: -1847.32, category: "Transfer" },
                    { icon: "💳", description: "Transfer from Savings", date: "Jul 25, 2025", amount: 5000.00, category: "Transfer" }
                ]
            },
            investmentLoan: {
                name: "Investment Property Loan",
                number: "Loan Account 90135678",
                balance: -425800.00,
                features: [
                    { label: "Outstanding", value: "$425,800.00" },
                    { label: "Interest Rate", value: "7.25% p.a." },
                    { label: "Monthly Repayment", value: "$2,856.75" },
                    { label: "Property Value", value: "$650,000" }
                ],
                transactions: [
                    { icon: "🏢", description: "Monthly Repayment", date: "Aug 1, 2025", amount: 2856.75, category: "Loan Payment" },
                    { icon: "💰", description: "Interest Charged", date: "Aug 1, 2025", amount: -2571.80, category: "Interest" },
                    { icon: "🏠", description: "Rental Income", date: "Jul 28, 2025", amount: 2200.00, category: "Income" }
                ]
            },
            creditCard: {
                name: "Platinum Rewards Card",
                number: "•••• •••• •••• 1234",
                balance: -2847.95,
                features: [
                    { label: "Balance", value: "$2,847.95" },
                    { label: "Credit Limit", value: "$15,000.00" },
                    { label: "Available", value: "$12,152.05" },
                    { label: "Reward Points", value: "24,580 pts" }
                ],
                transactions: [
                    { icon: "🛒", description: "Amazon Purchase", date: "Today, 3:20 PM", amount: -156.45, category: "Shopping" },
                    { icon: "🍕", description: "Uber Eats", date: "Yesterday, 7:30 PM", amount: -42.80, category: "Food & Drink" },
                    { icon: "⛽", description: "BP Service Station", date: "Aug 7, 2025", amount: -78.50, category: "Fuel" },
                    { icon: "💳", description: "Payment - Thank You", date: "Aug 5, 2025", amount: 1500.00, category: "Payment" }
                ]
            }
        };

        // Account Modal Functions
        function openAccountsModal() {
            document.getElementById('accountsModal').classList.add('show');
            resetAccountsModal();
        }

        function closeAccountsModal() {
            document.getElementById('accountsModal').classList.remove('show');
        }

        function resetAccountsModal() {
            document.getElementById('accountsOverview').style.display = 'block';
            document.getElementById('accountDetailView').classList.remove('active');
        }

        function openAccountDetail(accountType) {
            const account = accountData[accountType];
            if (!account) return;

            // Hide overview, show detail
            document.getElementById('accountsOverview').style.display = 'none';
            document.getElementById('accountDetailView').classList.add('active');

            // Populate account details
            document.getElementById('detailAccountName').textContent = account.name;
            document.getElementById('detailAccountNumber').textContent = account.number;
            
            const balanceElement = document.getElementById('detailBalance');
            const balanceFormatted = Math.abs(account.balance).toLocaleString('en-AU', {
                style: 'currency',
                currency: 'AUD'
            });
            
            if (account.balance < 0) {
                balanceElement.textContent = `-${balanceFormatted}`;
                balanceElement.className = 'detail-balance negative';
            } else {
                balanceElement.textContent = balanceFormatted;
                balanceElement.className = 'detail-balance positive';
            }

            // Populate features
            const featuresContainer = document.getElementById('accountFeatures');
            featuresContainer.innerHTML = account.features.map(feature => `
                <div class="feature-card">
                    <div class="feature-value">${feature.value}</div>
                    <div class="feature-label">${feature.label}</div>
                </div>
            `).join('');

            // Populate transactions
            populateTransactions(account.transactions);
        }

        function populateTransactions(transactions) {
            const transactionList = document.getElementById('transactionList');
            
            transactionList.innerHTML = transactions.map(transaction => {
                const amountClass = transaction.amount >= 0 ? 'credit' : 'debit';
                const amountFormatted = Math.abs(transaction.amount).toLocaleString('en-AU', {
                    style: 'currency',
                    currency: 'AUD'
                });
                const displayAmount = transaction.amount >= 0 ? `+${amountFormatted}` : `-${amountFormatted}`;
                
                return `
                    <div class="transaction-row">
                        <div class="transaction-icon-large">${transaction.icon}</div>
                        <div class="transaction-info">
                            <div class="transaction-description">${transaction.description}</div>
                            <div class="transaction-meta">${transaction.date} • ${transaction.category}</div>
                        </div>
                        <div class="transaction-amount-large ${amountClass}">${displayAmount}</div>
                    </div>
                `;
            }).join('');
        }

        function backToAccounts() {
            resetAccountsModal();
        }

        function filterTransactions() {
            // In a real app, this would filter the transactions
            // For demo purposes, we'll just show all transactions
            console.log('Filtering transactions for period:', document.getElementById('periodFilter').value);
        }

        // Payment Modal Functions
        function openPaymentModal() {
            document.getElementById('paymentModal').classList.add('show');
            resetModal();
        }

        function closePaymentModal() {
            document.getElementById('paymentModal').classList.remove('show');
        }

        function resetModal() {
            // Show payment selection, hide forms
            document.getElementById('paymentSelection').style.display = 'block';
            document.getElementById('domesticForm').classList.remove('active');
            document.getElementById('internationalForm').classList.remove('active');
            
            // Remove selection styling
            document.querySelectorAll('.payment-option').forEach(option => {
                option.classList.remove('selected');
            });
        }

        function selectPaymentType(type) {
            // Hide payment selection
            document.getElementById('paymentSelection').style.display = 'none';
            
            // Show appropriate form
            if (type === 'domestic') {
                document.getElementById('domesticForm').classList.add('active');
                setupDomesticForm();
            } else if (type === 'international') {
                document.getElementById('internationalForm').classList.add('active');
                setupInternationalForm();
            }
        }

        function backToSelection() {
            resetModal();
        }

        function setupDomesticForm() {
            // Handle transfer method change
            document.getElementById('transferMethod').addEventListener('change', function() {
                const payidFields = document.getElementById('payidFields');
                const bsbFields = document.getElementById('bsbFields');
                
                if (this.value === 'payid') {
                    payidFields.style.display = 'block';
                    bsbFields.style.display = 'none';
                } else {
                    payidFields.style.display = 'none';
                    bsbFields.style.display = 'block';
                }
            });
        }

        function setupInternationalForm() {
            // Handle currency change
            document.getElementById('currency').addEventListener('change', updateExchangeRate);
            document.getElementById('sendAmount').addEventListener('input', calculateReceivedAmount);
            
            // Initialize bank search
            initializeBankSearch();
            
            // Initialize with default exchange rate
            updateExchangeRate();
        }

        function updateExchangeRate() {
            const currency = document.getElementById('currency').value;
            const exchangeRateSpan = document.getElementById('exchangeRate');
            const targetCurrencySpan = document.getElementById('targetCurrency');
            
            // Mock exchange rates (in real app, these would come from API)
            const rates = {
                'USD': 0.67,
                'GBP': 0.53,
                'EUR': 0.62,
                'CAD': 0.91,
                'NZD': 1.08,
                'SGD': 0.90,
                'JPY': 100.45
            };
            
            exchangeRateSpan.textContent = rates[currency] || '0.67';
            targetCurrencySpan.textContent = currency;
            calculateReceivedAmount();
        }

        function calculateReceivedAmount() {
            const sendAmount = parseFloat(document.getElementById('sendAmount').value) || 0;
            const fee = 25.00; // Fixed fee
            const exchangeRate = parseFloat(document.getElementById('exchangeRate').textContent) || 0.67;
            const currency = document.getElementById('currency').value;
            
            if (sendAmount > 0) {
                const netAmount = Math.max(0, sendAmount - fee);
                const receivedAmount = netAmount * exchangeRate;
                document.getElementById('receivedAmount').textContent = 
                    `${receivedAmount.toFixed(2)} ${currency}`;
            } else {
                document.getElementById('receivedAmount').textContent = 'Calculate amount';
            }
        }

        function processDomesticTransfer() {
            const fromAccount = document.getElementById('fromAccountDomestic').value;
            const method = document.getElementById('transferMethod').value;
            const amount = document.getElementById('amountDomestic').value;
            const reference = document.getElementById('referenceDomestic').value;
            
            let recipient = '';
            if (method === 'payid') {
                recipient = document.getElementById('payId').value;
            } else {
                const bsb = document.getElementById('bsb').value;
                const accNum = document.getElementById('accountNumber').value;
                const accName = document.getElementById('accountName').value;
                recipient = `${accName} (${bsb} ${accNum})`;
            }
            
            if (!amount || !recipient) {
                alert('Please fill in all required fields');
                return;
            }
            
            alert(`Domestic Transfer Submitted!
            
From: Account ••••${fromAccount}
To: ${recipient}
Amount: $${parseFloat(amount).toFixed(2)} AUD
Reference: ${reference || 'No reference'}

This transfer will be processed immediately via the NPP network.`);
            
            closePaymentModal();
        }

        function processInternationalTransfer() {
            const amount = document.getElementById('sendAmount').value;
            const currency = document.getElementById('currency').value;
            const bankSearch = document.getElementById('bankSearch').value;
            const swiftCode = document.getElementById('swiftCode').value;
            const holderName = document.getElementById('holderName').value;
            const purpose = document.getElementById('paymentPurpose').value;
            
            if (!amount || !bankSearch || !swiftCode || !holderName || !purpose) {
                alert('Please fill in all required fields');
                return;
            }
            
            const netAmount = Math.max(0, parseFloat(amount) - 25);
            const exchangeRate = parseFloat(document.getElementById('exchangeRate').textContent);
            const receivedAmount = (netAmount * exchangeRate).toFixed(2);
            
            alert(`International Transfer Submitted for Review!
            
Send Amount: $${parseFloat(amount).toFixed(2)} AUD
Transfer Fee: $25.00 AUD
Recipient Receives: ${receivedAmount} ${currency}

To: ${holderName}
Bank: ${bankSearch} (${swiftCode})
Purpose: ${purpose}

Your transfer will be reviewed and processed within 1-2 business days.
You will receive email confirmation once sent.`);
            
            closePaymentModal();
        }

        // Close modal when clicking outside
        document.getElementById('paymentModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closePaymentModal();
            }
        });

        // Close modal with Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && document.getElementById('paymentModal').classList.contains('show')) {
                closePaymentModal();
            }
            if (e.key === 'Escape' && document.getElementById('payBillsModal').classList.contains('show')) {
                closePayBillsModal();
            }
            if (e.key === 'Escape' && document.getElementById('accountsModal').classList.contains('show')) {
                closeAccountsModal();
            }
        });

        // Close Pay Bills modal when clicking outside
        document.getElementById('payBillsModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closePayBillsModal();
            }
        });

        // Close Accounts modal when clicking outside
        document.getElementById('accountsModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeAccountsModal();
            }
        });

        // New Navigation Modal Functions
        
        // Accounts List Modal Functions
        function openAccountsListModal() {
            document.getElementById('accountsListModal').classList.add('show');
            populateAccountsList();
        }
        
        function closeAccountsListModal() {
            document.getElementById('accountsListModal').classList.remove('show');
        }
        
        function populateAccountsList() {
            const container = document.getElementById('accountsListContainer');
            container.innerHTML = '';
            
            Object.entries(accountData).forEach(([key, account]) => {
                const accountItem = document.createElement('div');
                accountItem.className = 'account-list-item';
                accountItem.innerHTML = `
                    <div class="account-list-info">
                        <div class="account-list-name">${account.name}</div>
                        <div class="account-list-number">${account.number}</div>
                    </div>
                    <div class="account-list-balance ${account.balance < 0 ? 'negative' : ''}">${account.balance < 0 ? '-$' + Math.abs(account.balance).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g, ',') : '$' + account.balance.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g, ',')}</div>
                `;
                accountItem.addEventListener('click', () => showAccountTransactions(key, account));
                container.appendChild(accountItem);
            });
        }
        
        function showAccountTransactions(accountKey, account) {
            closeAccountsListModal();
            
            // Update the account details modal with the selected account
            document.querySelector('#accountsModal .modal-title').textContent = account.name;
            document.querySelector('#accountsModal .account-number').textContent = account.number;
            document.querySelector('#accountsModal .account-balance').textContent = account.balance < 0 ? '-$' + Math.abs(account.balance).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g, ',') : '$' + account.balance.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g, ',');
            document.querySelector('#accountsModal .account-balance').className = `account-balance ${account.balance < 0 ? 'negative' : ''}`;
            
            // Update features
            const featuresContainer = document.querySelector('#accountsModal .account-features');
            featuresContainer.innerHTML = '';
            account.features.forEach(feature => {
                const featureDiv = document.createElement('div');
                featureDiv.className = 'account-feature';
                featureDiv.innerHTML = `
                    <span class="feature-label">${feature.label}:</span>
                    <span class="feature-value">${feature.value}</span>
                `;
                featuresContainer.appendChild(featureDiv);
            });
            
            // Update transactions
            const transactionsContainer = document.querySelector('#accountsModal .transaction-history');
            transactionsContainer.innerHTML = '';
            account.transactions.forEach(transaction => {
                const transactionDiv = document.createElement('div');
                transactionDiv.className = 'transaction';
                transactionDiv.innerHTML = `
                    <div class="transaction-icon">${transaction.icon}</div>
                    <div class="transaction-details">
                        <div class="transaction-description">${transaction.description}</div>
                        <div class="transaction-date">${transaction.date}</div>
                        <div class="transaction-category">${transaction.category}</div>
                    </div>
                    <div class="transaction-amount ${transaction.amount < 0 ? 'negative' : 'positive'}">
                        ${transaction.amount < 0 ? '-$' + Math.abs(transaction.amount).toFixed(2) : '+$' + transaction.amount.toFixed(2)}
                    </div>
                `;
                transactionsContainer.appendChild(transactionDiv);
            });
            
            // Show the account details modal
            document.getElementById('accountsModal').classList.add('show');
        }
        
        // Transfers Modal Functions
        function openTransfersModal() {
            document.getElementById('transfersModal').classList.add('show');
            populateTransferAccounts();
        }
        
        function closeTransfersModal() {
            document.getElementById('transfersModal').classList.remove('show');
            resetTransferForm();
        }
        
        function populateTransferAccounts() {
            const fromSelect = document.getElementById('fromAccountTransfer');
            const toSelect = document.getElementById('toAccountTransfer');
            
            // Clear existing options
            fromSelect.innerHTML = '<option value="">Select account</option>';
            toSelect.innerHTML = '<option value="">Select account</option>';
            
            // Add account options
            Object.entries(accountData).forEach(([key, account]) => {
                if (account.balance >= 0) { // Only show accounts with positive balance for from account
                    const option = document.createElement('option');
                    option.value = key;
                    option.textContent = `${account.name} - $${account.balance.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g, ',')}`;
                    fromSelect.appendChild(option);
                }
                
                const toOption = document.createElement('option');
                toOption.value = key;
                toOption.textContent = `${account.name} (${account.number})`;
                toSelect.appendChild(toOption);
            });
            
            // Add event listeners for account change
            fromSelect.addEventListener('change', updateTransferPreview);
            toSelect.addEventListener('change', updateTransferPreview);
            document.getElementById('transferAmount').addEventListener('input', updateTransferPreview);
        }
        
        function updateTransferPreview() {
            const fromAccount = document.getElementById('fromAccountTransfer').value;
            const toAccount = document.getElementById('toAccountTransfer').value;
            const amount = parseFloat(document.getElementById('transferAmount').value) || 0;
            const preview = document.getElementById('transferPreview');
            
            if (fromAccount && toAccount && amount > 0) {
                const fromAccountData = accountData[fromAccount];
                const toAccountData = accountData[toAccount];
                
                if (fromAccount === toAccount) {
                    preview.innerHTML = '<div style="color: #dc2626;">Cannot transfer to the same account</div>';
                    return;
                }
                
                if (amount > fromAccountData.balance) {
                    preview.innerHTML = '<div style="color: #dc2626;">Insufficient funds</div>';
                    return;
                }
                
                preview.innerHTML = `
                    <div style="padding: 1rem; background: #f8fafc; border-radius: 8px; margin-top: 1rem;">
                        <h4 style="margin: 0 0 0.5rem 0; color: #374151;">Transfer Preview</h4>
                        <p style="margin: 0.25rem 0;"><strong>From:</strong> ${fromAccountData.name}</p>
                        <p style="margin: 0.25rem 0;"><strong>To:</strong> ${toAccountData.name}</p>
                        <p style="margin: 0.25rem 0;"><strong>Amount:</strong> $${amount.toFixed(2)}</p>
                        <p style="margin: 0.25rem 0; color: #059669;"><strong>Processing:</strong> Instant transfer</p>
                        <p style="margin: 0.25rem 0; font-size: 0.9rem; color: #6b7280;">New balance: $${(fromAccountData.balance - amount).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g, ',')}</p>
                    </div>
                `;
            } else {
                preview.innerHTML = '';
            }
        }
        
        function processTransfer() {
            const fromAccount = document.getElementById('fromAccountTransfer').value;
            const toAccount = document.getElementById('toAccountTransfer').value;
            const amount = parseFloat(document.getElementById('transferAmount').value) || 0;
            const description = document.getElementById('transferDescription').value;
            
            if (!fromAccount || !toAccount || !amount) {
                alert('Please fill in all required fields');
                return;
            }
            
            if (fromAccount === toAccount) {
                alert('Cannot transfer to the same account');
                return;
            }
            
            const fromAccountData = accountData[fromAccount];
            const toAccountData = accountData[toAccount];
            
            if (amount > fromAccountData.balance) {
                alert('Insufficient funds');
                return;
            }
            
            alert(`Transfer Successful!
            
From: ${fromAccountData.name}
To: ${toAccountData.name}
Amount: $${amount.toFixed(2)}
${description ? 'Description: ' + description : ''}

This transfer has been processed instantly.
Your new balance is $${(fromAccountData.balance - amount).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g, ',')}`);
            
            closeTransfersModal();
        }
        
        function resetTransferForm() {
            document.getElementById('fromAccountTransfer').value = '';
            document.getElementById('toAccountTransfer').value = '';
            document.getElementById('transferAmount').value = '';
            document.getElementById('transferDescription').value = '';
            document.getElementById('transferPreview').innerHTML = '';
        }
        
        // Support Modal Functions
        function openSupportModal() {
            document.getElementById('supportModal').classList.add('show');
            initializeChatBot();
        }
        
        function closeSupportModal() {
            document.getElementById('supportModal').classList.remove('show');
        }
        
        function initializeChatBot() {
            const chatMessages = document.getElementById('chatMessages');
            chatMessages.innerHTML = `
                <div class="chat-message bot-message">
                    <div class="message-avatar">🏦</div>
                    <div class="message-content">
                        <div class="message-text">Hello! I'm your SecureBank AI Assistant. How can I help you today?</div>
                        <div class="message-time">${new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}</div>
                    </div>
                </div>
            `;
            
            // Add quick action buttons
            addQuickActions();
        }
        
        function addQuickActions() {
            const chatMessages = document.getElementById('chatMessages');
            const quickActions = document.createElement('div');
            quickActions.className = 'quick-actions';
            quickActions.innerHTML = `
                <div class="quick-action-title">Quick Actions:</div>
                <button class="quick-action-btn" onclick="askQuestion('What are my account balances?')">Account Balances</button>
                <button class="quick-action-btn" onclick="askQuestion('How do I transfer money?')">Transfer Money</button>
                <button class="quick-action-btn" onclick="askQuestion('What are your fees?')">Banking Fees</button>
                <button class="quick-action-btn" onclick="askQuestion('How do I pay bills?')">Pay Bills</button>
            `;
            chatMessages.appendChild(quickActions);
        }
        
        function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            
            if (!message) return;
            
            // Add user message
            const chatMessages = document.getElementById('chatMessages');
            const userMessage = document.createElement('div');
            userMessage.className = 'chat-message user-message';
            userMessage.innerHTML = `
                <div class="message-content">
                    <div class="message-text">${message}</div>
                    <div class="message-time">${new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}</div>
                </div>
                <div class="message-avatar">👤</div>
            `;
            chatMessages.appendChild(userMessage);
            
            input.value = '';
            
            // Simulate AI response
            setTimeout(() => {
                const botResponse = getBotResponse(message);
                const botMessage = document.createElement('div');
                botMessage.className = 'chat-message bot-message';
                botMessage.innerHTML = `
                    <div class="message-avatar">🏦</div>
                    <div class="message-content">
                        <div class="message-text">${botResponse}</div>
                        <div class="message-time">${new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}</div>
                    </div>
                `;
                chatMessages.appendChild(botMessage);
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }, 1000 + Math.random() * 1000);
            
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        
        function askQuestion(question) {
            document.getElementById('chatInput').value = question;
            sendMessage();
        }
        
        function getBotResponse(message) {
            const lowerMessage = message.toLowerCase();
            
            if (lowerMessage.includes('balance')) {
                return "Your current account balances are: Transaction Account $4,287.50, High Interest Savings $12,750.00, Home Loan -$285,000.00. Would you like more details about any specific account?";
            } else if (lowerMessage.includes('transfer')) {
                return "To transfer money between your accounts, click on 'Transfers' in the main menu. You can also transfer to external accounts using BSB and account numbers or PayID. All internal transfers are instant and free!";
            } else if (lowerMessage.includes('fee')) {
                return "Our fee structure includes: Account keeping fees $0/month, Domestic transfers $0 (NPP), International transfers $25 + exchange rate margin, ATM withdrawals $0 at our network, $2.50 elsewhere. Need details about specific fees?";
            } else if (lowerMessage.includes('bill')) {
                return "You can pay bills through our BPAY system! Click 'Payments' then 'Pay Bills' to access over 30,000 Australian billers. Just enter the biller code and your reference number. Most payments are processed instantly.";
            } else if (lowerMessage.includes('help') || lowerMessage.includes('support')) {
                return "I can help with account inquiries, transfers, bill payments, and general banking questions. For complex issues or to speak with a human agent, call us at 13 2265 (24/7) or visit your nearest branch.";
            } else if (lowerMessage.includes('card') || lowerMessage.includes('atm')) {
                return "For card-related issues: Lost/stolen cards can be blocked instantly in the app under 'Card Controls'. New cards arrive in 2-3 business days. ATM daily limit is $2,000, EFTPOS limit is $5,000. Need help with something specific?";
            } else if (lowerMessage.includes('loan') || lowerMessage.includes('mortgage')) {
                return "Your current home loan balance is $285,000. Interest rate: 5.89% p.a. Next payment due: $1,856.00 on Aug 15. For rate reviews, refinancing, or extra payments, I can connect you with our lending specialist.";
            } else if (lowerMessage.includes('statement') || lowerMessage.includes('transaction')) {
                return "Statements are available monthly via the app or email. Transaction history shows in real-time. For older transactions, use the date filter in your account details. PDF statements can be downloaded for up to 7 years.";
            } else {
                return "I understand you're asking about banking services. Could you please be more specific? I can help with account balances, transfers, bill payments, fees, cards, loans, or general banking questions. What would you like to know?";
            }
        }
        
        // Add event listener for Enter key in chat input
        document.addEventListener('DOMContentLoaded', function() {
            const chatInput = document.getElementById('chatInput');
            if (chatInput) {
                chatInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        sendMessage();
                    }
                });
            }
        });
        
        // Update event listeners for new modals
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                if (document.getElementById('accountsListModal').classList.contains('show')) {
                    closeAccountsListModal();
                }
                if (document.getElementById('transfersModal').classList.contains('show')) {
                    closeTransfersModal();
                }
                if (document.getElementById('supportModal').classList.contains('show')) {
                    closeSupportModal();
                }
            }
        });
        
        // Close new modals when clicking outside
        document.getElementById('accountsListModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeAccountsListModal();
            }
        });
        
        document.getElementById('transfersModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeTransfersModal();
            }
        });
        
        document.getElementById('supportModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeSupportModal();
            }
        });

        // Simulate real-time balance updates (less frequent for better UX)
        setInterval(() => {
            const balanceElements = document.querySelectorAll('.account-balance:not(.negative)');
            balanceElements.forEach(el => {
                const currentBalance = parseFloat(el.textContent.replace(/[$,]/g, ''));
                // Very small random fluctuation for demo
                const change = (Math.random() - 0.5) * 0.05;
                const newBalance = currentBalance + change;
                el.textContent = `$${newBalance.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g, ',')}`;
            });
        }, 60000); // Update every minute

        // Login functionality
        let currentUser = null;

        function handleLogin(event) {
            event.preventDefault();
            
            const username = document.getElementById('username').value.trim();
            const password = document.getElementById('password').value.trim();
            
            if (username && password) {
                // Store user credentials temporarily (in real app, this would be secure authentication)
                currentUser = {
                    username: username,
                    loginTime: new Date(),
                    sessionId: Math.random().toString(36).substring(2, 15)
                };
                
                // Store in localStorage for session persistence
                localStorage.setItem('securebank_session', JSON.stringify(currentUser));
                
                // Hide login screen and show main app
                document.getElementById('loginScreen').classList.add('hidden');
                document.getElementById('mainApp').classList.add('show');
                
                // Update welcome message with actual username
                updateWelcomeMessage();
                
                // Optional: Show success message
                setTimeout(() => {
                    showLoginSuccess();
                }, 500);
            }
        }

        function updateWelcomeMessage() {
            const welcomeElements = document.querySelectorAll('.hero h1');
            if (welcomeElements.length > 0 && currentUser) {
                // Get current time for greeting
                const hour = new Date().getHours();
                let greeting = 'Good evening';
                if (hour >= 6 && hour < 12) greeting = 'Good morning';
                else if (hour >= 12 && hour < 18) greeting = 'Good afternoon';
                
                welcomeElements[0].innerHTML = `${greeting}, ${currentUser.username}!`;
            }
        }

        function showLoginSuccess() {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: #059669;
                color: white;
                padding: 1rem 1.5rem;
                border-radius: 8px;
                z-index: 1001;
                font-weight: 600;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
                transform: translateX(100%);
                transition: transform 0.3s ease;
            `;
            notification.textContent = '✅ Login successful! Welcome to SecureBank';
            document.body.appendChild(notification);
            
            // Animate in
            setTimeout(() => {
                notification.style.transform = 'translateX(0)';
            }, 100);
            
            // Remove after 3 seconds
            setTimeout(() => {
                notification.style.transform = 'translateX(100%)';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }

        function logout() {
            // Clear session
            currentUser = null;
            localStorage.removeItem('securebank_session');
            
            // Show login screen and hide main app
            document.getElementById('mainApp').classList.remove('show');
            document.getElementById('loginScreen').classList.remove('hidden');
            
            // Reset form
            document.getElementById('username').value = '';
            document.getElementById('password').value = '';
        }

        // Check for existing session on page load
        document.addEventListener('DOMContentLoaded', function() {
            const savedSession = localStorage.getItem('securebank_session');
            if (savedSession) {
                try {
                    currentUser = JSON.parse(savedSession);
                    // Check if session is less than 24 hours old
                    const sessionAge = Date.now() - new Date(currentUser.loginTime).getTime();
                    if (sessionAge < 24 * 60 * 60 * 1000) { // 24 hours
                        // Valid session, show main app
                        document.getElementById('loginScreen').classList.add('hidden');
                        document.getElementById('mainApp').classList.add('show');
                        updateWelcomeMessage();
                    } else {
                        // Session expired
                        logout();
                    }
                } catch (e) {
                    // Invalid session data
                    logout();
                }
            }
        });

        // Statements Modal Functions
        function openStatementsModal() {
            document.getElementById('statementsModal').classList.add('show');
            initializeStatements();
            generateStatements();
        }

        function closeStatementsModal() {
            document.getElementById('statementsModal').classList.remove('show');
        }

        function initializeStatements() {
            const today = new Date();
            const threeMonthsAgo = new Date(today.setMonth(today.getMonth() - 3));
            
            document.getElementById('statementFromDate').value = threeMonthsAgo.toISOString().split('T')[0];
            document.getElementById('statementToDate').value = new Date().toISOString().split('T')[0];
        }

        function generateStatements() {
            const statements = [
                { period: 'November 2024', account: 'Everyday Transaction', transactions: 47, balance: 4287.50, date: '2024-11-30' },
                { period: 'October 2024', account: 'Everyday Transaction', transactions: 52, balance: 3942.15, date: '2024-10-31' },
                { period: 'September 2024', account: 'Everyday Transaction', transactions: 39, balance: 4156.80, date: '2024-09-30' },
                { period: 'November 2024', account: 'High Interest Savings', transactions: 3, balance: 15920.00, date: '2024-11-30' },
                { period: 'October 2024', account: 'High Interest Savings', transactions: 2, balance: 15654.32, date: '2024-10-31' },
                { period: 'September 2024', account: 'High Interest Savings', transactions: 4, balance: 15234.87, date: '2024-09-30' },
                { period: 'November 2024', account: 'Home Loan', transactions: 1, balance: -285600.00, date: '2024-11-30' },
                { period: 'October 2024', account: 'Home Loan', transactions: 1, balance: -286456.00, date: '2024-10-31' },
                { period: 'September 2024', account: 'Home Loan', transactions: 1, balance: -287312.00, date: '2024-09-30' }
            ];

            displayStatements(statements);
        }

        function displayStatements(statements) {
            const container = document.getElementById('statementList');
            container.innerHTML = '';

            statements.forEach(statement => {
                const statementItem = document.createElement('div');
                statementItem.className = 'statement-item';
                statementItem.innerHTML = `
                    <div class="statement-info">
                        <div class="statement-period">${statement.period} - ${statement.account}</div>
                        <div class="statement-details">${statement.transactions} transactions • Closing balance: $${Math.abs(statement.balance).toFixed(2).replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}</div>
                    </div>
                    <div class="statement-actions">
                        <button class="btn-icon" onclick="viewStatement('${statement.account}', '${statement.period}')" title="View">👁️</button>
                        <button class="btn-icon" onclick="downloadStatement('${statement.account}', '${statement.period}')" title="Download PDF">📄</button>
                        <button class="btn-icon" onclick="emailStatement('${statement.account}', '${statement.period}')" title="Email">📧</button>
                    </div>
                `;
                container.appendChild(statementItem);
            });
        }

        function filterStatements() {
            const account = document.getElementById('statementAccount').value;
            const fromDate = document.getElementById('statementFromDate').value;
            const toDate = document.getElementById('statementToDate').value;
            
            alert(`Filtering statements for ${account === 'all' ? 'all accounts' : account} from ${fromDate} to ${toDate}`);
            generateStatements(); // In a real app, this would filter the results
        }

        function viewStatement(account, period) {
            alert(`Opening ${period} statement for ${account}...\\n\\nThis would display the full statement with all transactions, fees, and account summary.`);
        }

        function downloadStatement(account, period) {
            alert(`Downloading ${period} statement for ${account}...\\n\\nPDF download would start now. File: Statement_${account.replace(/\\s+/g, '_')}_${period.replace(' ', '_')}.pdf`);
        }

        function emailStatement(account, period) {
            alert(`Emailing ${period} statement for ${account} to your registered email address...\\n\\nStatement sent successfully!`);
        }

        // Credit Application Functions
        let creditStep = 1;

        function openCreditApplicationModal() {
            document.getElementById('creditApplicationModal').classList.add('show');
            resetCreditApplication();
            prefillCreditApplication();
        }

        function closeCreditApplicationModal() {
            document.getElementById('creditApplicationModal').classList.remove('show');
            resetCreditApplication();
        }

        function resetCreditApplication() {
            creditStep = 1;
            updateCreditSteps();
            document.getElementById('creditNextBtn').textContent = 'Next';
            document.getElementById('creditNextBtn').style.display = 'block';
        }

        function prefillCreditApplication() {
            if (currentUser) {
                // Pre-fill with user data (simulated)
                document.getElementById('creditFirstName').value = currentUser.username;
                document.getElementById('creditLastName').value = 'Customer';
                document.getElementById('creditPhone').value = '+61 400 123 456';
            }
        }

        function updateCreditSteps() {
            for (let i = 1; i <= 4; i++) {
                const step = document.getElementById(`step${i}`);
                const stepDiv = document.getElementById(`creditStep${i}`);
                
                if (i < creditStep) {
                    step.className = 'step completed';
                } else if (i === creditStep) {
                    step.className = 'step active';
                } else {
                    step.className = 'step';
                }

                if (stepDiv) {
                    stepDiv.style.display = i === creditStep ? 'block' : 'none';
                }
            }
        }

        function nextCreditStep() {
            if (creditStep === 1) {
                // Validate personal info
                const firstName = document.getElementById('creditFirstName').value;
                const lastName = document.getElementById('creditLastName').value;
                const dob = document.getElementById('creditDOB').value;
                const phone = document.getElementById('creditPhone').value;
                
                if (!firstName || !lastName || !dob || !phone) {
                    alert('Please fill in all required fields');
                    return;
                }
                
                creditStep = 2;
                updateCreditSteps();
                
            } else if (creditStep === 2) {
                // Validate income info
                const employment = document.getElementById('creditEmployment').value;
                const income = document.getElementById('creditIncome').value;
                const employer = document.getElementById('creditEmployer').value;
                
                if (!employment || !income || !employer) {
                    alert('Please fill in all required fields');
                    return;
                }
                
                if (parseInt(income) < 30000) {
                    alert('Minimum income requirement is $30,000 per year');
                    return;
                }
                
                creditStep = 3;
                updateCreditSteps();
                document.getElementById('creditNextBtn').style.display = 'none';
            }
        }

        function performCreditCheck() {
            const consent = document.getElementById('creditCheckConsent').checked;
            if (!consent) {
                alert('Please provide consent for credit check');
                return;
            }

            // Show loading
            document.getElementById('creditStep3').innerHTML = `
                <div style="text-align: center; padding: 2rem;">
                    <div style="font-size: 2rem; margin-bottom: 1rem;">🔄</div>
                    <h3>Running Credit Check...</h3>
                    <p>Please wait while we verify your credit history</p>
                </div>
            `;

            // Simulate credit check with random result
            setTimeout(() => {
                const approved = Math.random() > 0.3; // 70% approval rate
                creditStep = 4;
                updateCreditSteps();
                showCreditResult(approved);
            }, 3000);
        }

        function showCreditResult(approved) {
            const income = parseInt(document.getElementById('creditIncome').value);
            const requestedLimit = parseInt(document.getElementById('creditLimit').value);
            
            let approvedLimit = 0;
            let interestRate = '20.99%';
            
            if (approved) {
                // Calculate approved limit based on income
                const maxLimit = Math.floor(income * 0.3); // 30% of income
                approvedLimit = Math.min(requestedLimit, maxLimit);
                
                if (income > 100000) interestRate = '16.99%';
                else if (income > 75000) interestRate = '18.99%';
            }

            const resultContainer = document.getElementById('creditResult');
            
            if (approved) {
                resultContainer.innerHTML = `
                    <div class="credit-check-result approved">
                        <div class="result-icon">✅</div>
                        <div class="result-title">Congratulations! Application Approved</div>
                        <div class="result-details">
                            <p><strong>Approved Credit Limit:</strong> $${approvedLimit.toLocaleString()}</p>
                            <p><strong>Interest Rate:</strong> ${interestRate} p.a.</p>
                            <p><strong>Annual Fee:</strong> $0 (first year waived)</p>
                            <p style="margin-top: 1rem;">Your SecureBank Platinum Card will arrive within 7-10 business days.</p>
                        </div>
                        <button class="btn btn-primary" onclick="acceptCreditOffer()" style="margin-top: 1rem;">Accept Offer</button>
                    </div>
                `;
            } else {
                resultContainer.innerHTML = `
                    <div class="credit-check-result declined">
                        <div class="result-icon">❌</div>
                        <div class="result-title">Application Not Approved</div>
                        <div class="result-details">
                            <p>Unfortunately, we cannot approve your credit card application at this time.</p>
                            <p style="margin-top: 1rem;"><strong>You can:</strong></p>
                            <ul style="text-align: left; margin-top: 0.5rem;">
                                <li>Try again in 3 months</li>
                                <li>Apply for a lower credit limit</li>
                                <li>Contact us to discuss other options</li>
                            </ul>
                        </div>
                    </div>
                `;
            }

            document.getElementById('creditNextBtn').style.display = 'none';
        }

        function acceptCreditOffer() {
            alert('Congratulations! Your credit card application has been accepted.\\n\\nYour new SecureBank Platinum Card will be activated and sent to your registered address within 7-10 business days.\\n\\nWelcome to SecureBank Premium Banking!');
            closeCreditApplicationModal();
        }

        // ATM Finder Functions
        function openATMFinderModal() {
            document.getElementById('atmFinderModal').classList.add('show');
            setupATMFilters();
            loadDefaultATMs();
        }

        function closeATMFinderModal() {
            document.getElementById('atmFinderModal').classList.remove('show');
        }

        function setupATMFilters() {
            const filters = document.querySelectorAll('.filter-chip');
            filters.forEach(filter => {
                filter.addEventListener('click', function() {
                    filters.forEach(f => f.classList.remove('active'));
                    this.classList.add('active');
                    filterATMs(this.dataset.filter);
                });
            });
        }

        function loadDefaultATMs() {
            const atmData = [
                { name: 'SecureBank Sydney CBD', address: '123 Martin Place, Sydney NSW 2000', distance: '0.2 km', features: ['24hour', 'deposit', 'wheelchair', 'branch'], type: 'branch' },
                { name: 'SecureBank ATM - Westfield', address: 'Westfield Sydney, Pitt Street Mall, Sydney NSW 2000', distance: '0.3 km', features: ['24hour', 'deposit'], type: 'atm' },
                { name: 'SecureBank Circular Quay', address: '5 Circular Quay West, Sydney NSW 2000', distance: '0.5 km', features: ['branch', 'wheelchair'], type: 'branch' },
                { name: 'SecureBank ATM - Central Station', address: 'Central Railway Station, Sydney NSW 2000', distance: '0.7 km', features: ['24hour'], type: 'atm' },
                { name: 'SecureBank Bondi Junction', address: '500 Oxford Street, Bondi Junction NSW 2022', distance: '8.2 km', features: ['branch', 'deposit', 'wheelchair'], type: 'branch' },
                { name: 'SecureBank ATM - Coles Bondi', address: 'Coles Bondi, 181-187 Campbell Parade, Bondi Beach NSW 2026', distance: '10.1 km', features: ['deposit'], type: 'atm' },
                { name: 'SecureBank Parramatta', address: '153 Macquarie Street, Parramatta NSW 2150', distance: '24.3 km', features: ['branch', 'deposit', 'wheelchair', '24hour'], type: 'branch' },
                { name: 'SecureBank ATM - Westfield Parramatta', address: 'Westfield Parramatta, 159-175 Church Street, Parramatta NSW 2150', distance: '24.5 km', features: ['24hour', 'deposit'], type: 'atm' },
                { name: 'SecureBank Chatswood', address: '436 Victoria Avenue, Chatswood NSW 2067', distance: '15.8 km', features: ['branch', 'wheelchair'], type: 'branch' },
                { name: 'SecureBank ATM - Macquarie Centre', address: 'Macquarie Centre, Cnr Waterloo & Herring Roads, North Ryde NSW 2113', distance: '18.9 km', features: ['24hour', 'deposit', 'wheelchair'], type: 'atm' }
            ];

            displayATMs(atmData);
        }

        function searchATMs() {
            const location = document.getElementById('atmLocation').value;
            const radius = document.getElementById('atmRadius').value;
            
            if (!location) {
                alert('Please enter a location to search');
                return;
            }
            
            alert(`Searching for ATMs near "${location}" within ${radius} km...\\n\\nIn a real app, this would use geolocation and mapping services to find the nearest locations.`);
            
            // Simulate search results
            loadDefaultATMs();
        }

        function displayATMs(atms) {
            const container = document.getElementById('atmList');
            container.innerHTML = '';

            atms.forEach(atm => {
                const atmItem = document.createElement('div');
                atmItem.className = 'atm-item';
                atmItem.dataset.features = atm.features.join(' ');
                
                const featuresHTML = atm.features.map(feature => {
                    const labels = {
                        '24hour': '24 Hour',
                        'deposit': 'Cash Deposit',
                        'wheelchair': 'Wheelchair',
                        'branch': 'Full Branch'
                    };
                    return `<span class="feature-tag">${labels[feature] || feature}</span>`;
                }).join('');

                atmItem.innerHTML = `
                    <div class="atm-icon">${atm.type === 'branch' ? '🏪' : '🏧'}</div>
                    <div class="atm-info">
                        <div class="atm-name">${atm.name}</div>
                        <div class="atm-address">${atm.address}</div>
                        <div class="atm-features">${featuresHTML}</div>
                        <div class="atm-distance">${atm.distance} away</div>
                    </div>
                `;
                container.appendChild(atmItem);
            });
        }

        function filterATMs(filter) {
            const atms = document.querySelectorAll('.atm-item');
            
            atms.forEach(atm => {
                if (filter === 'all') {
                    atm.style.display = 'flex';
                } else {
                    const features = atm.dataset.features;
                    atm.style.display = features.includes(filter) ? 'flex' : 'none';
                }
            });
        }

        // Modal event listeners for new modals
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                if (document.getElementById('statementsModal').classList.contains('show')) {
                    closeStatementsModal();
                }
                if (document.getElementById('creditApplicationModal').classList.contains('show')) {
                    closeCreditApplicationModal();
                }
                if (document.getElementById('atmFinderModal').classList.contains('show')) {
                    closeATMFinderModal();
                }
            }
        });

        // Close modals when clicking outside
        document.getElementById('statementsModal').addEventListener('click', function(e) {
            if (e.target === this) closeStatementsModal();
        });

        document.getElementById('creditApplicationModal').addEventListener('click', function(e) {
            if (e.target === this) closeCreditApplicationModal();
        });

        document.getElementById('atmFinderModal').addEventListener('click', function(e) {
            if (e.target === this) closeATMFinderModal();
        });

        // Settings Modal Functions
        function openSettingsModal() {
            document.getElementById('settingsModal').classList.add('show');
            updateSessionInfo();
        }

        function closeSettingsModal() {
            document.getElementById('settingsModal').classList.remove('show');
        }

        function updateSessionInfo() {
            const sessionInfo = document.getElementById('sessionInfo');
            if (currentUser) {
                const loginTime = new Date(currentUser.loginTime);
                const sessionAge = Math.floor((Date.now() - loginTime.getTime()) / (1000 * 60)); // minutes
                sessionInfo.innerHTML = `
                    <strong>Logged in as:</strong> ${currentUser.username}<br>
                    <strong>Session started:</strong> ${loginTime.toLocaleString()}<br>
                    <strong>Session age:</strong> ${sessionAge} minutes<br>
                    <strong>Session ID:</strong> ${currentUser.sessionId}
                `;
            } else {
                sessionInfo.textContent = 'No active session found';
            }
        }

        function clearSessionAndRelogin() {
            if (confirm('Are you sure you want to reset all settings and force a new login? This will clear your current session.')) {
                // Clear all session data
                currentUser = null;
                localStorage.removeItem('securebank_session');
                
                // Show success notification
                const notification = document.createElement('div');
                notification.style.cssText = `
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    background: #dc2626;
                    color: white;
                    padding: 1rem 1.5rem;
                    border-radius: 8px;
                    z-index: 1002;
                    font-weight: 600;
                    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
                `;
                notification.textContent = '🔄 Settings reset! Redirecting to login...';
                document.body.appendChild(notification);
                
                // Close settings modal
                closeSettingsModal();
                
                // Redirect to login after short delay
                setTimeout(() => {
                    document.body.removeChild(notification);
                    document.getElementById('mainApp').classList.remove('show');
                    document.getElementById('loginScreen').classList.remove('hidden');
                    
                    // Reset form
                    document.getElementById('username').value = '';
                    document.getElementById('password').value = '';
                }, 1500);
            }
        }

        function refreshDemoData() {
            // Simulate refreshing account balances with small random changes
            const accountCards = document.querySelectorAll('.account-balance:not(.negative)');
            accountCards.forEach(card => {
                const currentBalance = parseFloat(card.textContent.replace(/[$,]/g, ''));
                const change = (Math.random() - 0.5) * 100; // Random change up to +/- $50
                const newBalance = Math.max(0, currentBalance + change);
                card.textContent = `$${newBalance.toFixed(2).replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}`;
            });
            
            alert('Demo data refreshed! Account balances have been updated with simulated changes.');
        }

        function clearAllBrowserData() {
            if (confirm('Are you sure you want to clear ALL browser data for this site? This cannot be undone.')) {
                // Clear localStorage
                localStorage.clear();
                
                // Clear sessionStorage
                sessionStorage.clear();
                
                // Clear any other site data
                if ('caches' in window) {
                    caches.keys().then(names => {
                        names.forEach(name => caches.delete(name));
                    });
                }
                
                alert('All browser data has been cleared. The page will now reload.');
                
                // Reload the page to reset everything
                setTimeout(() => {
                    window.location.reload();
                }, 1000);
            }
        }

        // Settings modal event listeners
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && document.getElementById('settingsModal').classList.contains('show')) {
                closeSettingsModal();
            }
        });

        document.getElementById('settingsModal').addEventListener('click', function(e) {
            if (e.target === this) closeSettingsModal();
        });
    </script>
    </div> <!-- End Main Banking Application -->
</body>
</html>